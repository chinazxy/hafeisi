(function(){var aF=this;function A(dd,d){if(d==null){return dd}return function(){return dd.apply(d,arguments)}}this.closure=A;function cS(d,dd){d=aF.evt[d]||d;if(dd){d=aF.evt.ui[d]||d}return d}if(window.addEventListener!=null){this.bind=function(dh,de,d,dd,dg,df){if(!df){de=cS(de,dg)}dh.addEventListener(de,A(d,dd),false)};this._bind=function(de,d,dd,dg,df){if(dd){d=A(d,dd)}if(!df){de=cS(de,dg)}this.addEventListener(de,d,false);return de};this._unbind=function(de,d,dd,dg,df){if(!df){de=cS(de,dg)}this.removeEventListener(de,d,false)};this.isIE=false}else{this.bind=function(df,de,d,dd){df.attachEvent(de,A(d,dd))};this._bind=function(de,d,dd,dg,df){if(dd){d=A(d,dd)}if(!df){de=cS(de,dg)}this.attachEvent(de,d)};this._unbind=function(de,d,dd,dg,df){if(!df){de=cS(de,dg)}this.detachEvent(de,d)};this.isIE=true}this.extend=function(de,dd){for(var d in dd){de[d]=dd[d]}};var ai=navigator.userAgent.toLowerCase();aF.isIE=(/msie/.test(ai));if(!aF.isIE){this.globalCSS=function(d,dh){var df=navigator.userAgent.toLowerCase();var dg=(/msie/.test(df))&&!(/opera/.test(df))&&(/win/.test(df));var de=document.createElement("style");de.setAttribute("type","text/css");de.setAttribute("media","screen");if(!dg){de.appendChild(document.createTextNode(d+" {"+dh+"}"))}document.getElementsByTagName("head")[0].appendChild(de);if(dg&&document.styleSheets&&document.styleSheets.length>0){var dd=document.styleSheets[document.styleSheets.length-1];if(typeof(dd.addRule)=="object"){dd.addRule(d,dh)}}}}else{this.globalCSS=function(d,df){function de(){try{var dg=document.createStyleSheet();dg.addRule(d,df)}catch(dh){var dj=document.createElement("STYLE");var di=document.createTextNode(d+" { "+df+" }");dj.type="text/css";if(dj.styleSheet){dj.styleSheet.cssText=di.nodeValue}document.getElementsByTagName("head")[0].appendChild(dj)}}if(document.readyState=="loading"){function dd(){if(document.readyState=="complete"){de()}else{setTimeout(dd,200)}}setTimeout(dd,200)}else{de()}}}this.loadCSS=function(df,dg){var de="_css"+df;if(aF[de]){return}aF[de]=true;var d=document.getElementsByTagName("head")[0];var dd=document.createElement("link");dd.type="text/css";dd.rel="stylesheet";dd.media="all";if(dg){dd.onreadystatechange=function(){if(this.readyState=="complete"){dg()}};dd.onload=dg}dd.href=df;d.appendChild(dd)};this.globals=function(d){this.extend(this,d)};this.getTimer=function(){return new Date().getTime()};this.isEmpty=function(d){return d==null||d=='""'||d.toString().split(" ").join("")==""};this.m={};this.json=function(d){if(!d){return d}return window.JSON.parse(d)};this.jsonStr=function(d){return window.JSON.stringify(d)};var az=aF.first=function(de,d){if(!de){return}for(var dd=0;dd<de.length;dd++){if(d(de[dd])){return de[dd]}}};var l=aF.where=function(df,dd){var d=[];if(!df){return d}for(var de=0;de<df.length;de++){if(dd(df[de])){d.push(df[de])}}return d};var a9=aF.forEach=function(de,d){if(!de){return}for(var dd=0;dd<de.length;dd++){d(de[dd],dd)}};var ay=navigator.userAgent;aF.isAndroid=ay.indexOf("Android")!=-1;if(aF.isAndroid){aF.androidVersion=parseFloat(ay.slice(ay.indexOf("Android")+8))}aF.isIOS=ay.indexOf("iPad")>-1||ay.indexOf("iPod")>-1||ay.indexOf("iPhone")>-1;aF.isIE9=ay.indexOf("MSIE 9.")!=-1;aF.isIE10=ay.indexOf("MSIE 10.")!=-1;aF.isIE=ay.indexOf("MSIE")!=-1;aF.isFirefox=ay.indexOf("Firefox")>-1;aF.isWebKit=ay.indexOf("AppleWebKit")>-1;aF.isSmallIOS=ay.indexOf("iPod")>-1||ay.indexOf("iPhone")>-1;aF.isOpera=ay.indexOf("Opera")>-1;aF.isChrome=ay.toLowerCase().indexOf("chrome")>-1;var a4=null;if(aF.isWebKit){a4="webkit"}else{if(aF.isFirefox){a4="Moz"}else{if(aF.isIE){a4="ms"}}}aF.uaIdent=a4;if(aF.isIE){var ai=navigator.userAgent;var ct=ai.indexOf("MSIE ");aF.ieVersion=aF.ieVersion=parseFloat(ai.substring(ct+5,ai.indexOf(";",ct)))}var bV=aF.evt={mouseover:"mouseover",mouseout:"mouseout",mousedown:"mousedown",mouseup:"mouseup",mousemove:"mousemove",click:"click"};aF.evt.ui={};function by(){try{if(aF.isChrome&&!aF.isAndroid&&!aF.isIOS){return false}document.createEvent("TouchEvent");return true}catch(d){return false}}aF.isTouch=by();if(aF.isTouch){aF.evt.mousedown="touchstart";aF.evt.mouseup="touchend";aF.evt.mousemove="touchmove";if(aF.isIOS){aF.evt.click="click"}else{aF.evt.click="touchend"}aF.evt.mouseover="";if(aF.isAndroid){aF.evt.ui.touchend="click"}}aF.canPlayVideoInPage=!(ay.indexOf("iPod")!=-1||ay.indexOf("iPhone")!=-1||ay.indexOf("Android")!=-1);aF.canAutoPlayVideo=aF.canPlayVideoInPage&&ay.indexOf("iPad")==-1;aF.canAutoPlayVideoFromClick=!(ay.indexOf("iPod")!=-1||ay.indexOf("iPhone")!=-1||ay.indexOf("Android")!=-1);if(aF.isIE){if(aF.ieVersion<=8){Array.prototype.indexOf=function(dd){for(var d=0;d<this.length;d++){if(this[d]===dd){return d}}return -1};aF.evt.mousedown="onmousedown";aF.evt.mouseup="onmouseup";aF.evt.mouseover="onmouseover";aF.evt.mouseout="onmouseout";aF.evt.mousemove="onmousemove";aF.evt.click="onclick"}}aF.mix=function(d,dd){return function(){for(var de=0;de<dd.length;de++){dd[de].apply(d,arguments)}}};var c6=function(dd,d){return function(){dd.apply(this,arguments);d.apply(this,arguments)}};var cX=function(dd,d,de){return function(){var df=[];for(var dg=0;dg<arguments.length;dg++){df.push(arguments[dg])}df.push(de);return dd.apply(d,df)}};var cP=function(di,dg,de,d){var dm={};if(de!=null){for(var dj=0;dj<de.length;dj++){var dd=de[dj];for(var df in dd){var dk=dd[df];if(dm[df]!=null&&typeof(dk)=="function"){dk=c6(dm[df],dk)}dm[df]=dk}}}var dh=function(){var dr=null;if(dg!=null){if(d){dr=dg.apply(this,arguments)}else{dr=dg()}}else{dr={}}dr.base={base:dr.base};for(var dq in dm){var dn=dm[dq];if(dr[dq]!=null){var dp=dr[dq];if(typeof(dr[dq])=="function"){dp=aF.closure(dp,dr);dn=cX(dn,dr,dp)}dr.base[dq]=dp}dr[dq]=dn}dr.__clazz__=dh;for(var dq in di){var ds=di[dq];if(dr[dq]!=null){var dp=dr[dq];if(typeof(dp)=="function"){dp=aF.closure(dp,dr);ds=cX(ds,dr,dp)}dr.base[dq]=dp}dr[dq]=ds}if(di.create!=null){di.create.apply(dr,arguments)}return dr};var dl=dh.interfaces=di.interfaces||[];delete di.interfaces;if(dg&&(dl=dg.interfaces)){for(var df=0;df<dl.length;df++){dh.interfaces.push(dl[df])}}dh.create=function(){return dh.apply(null,arguments)};dh.pro=di;return dh};var e=function(dd,d){if(dd==null){return false}if(dd.__clazz__==d){return true}return false};this.globals({clazz:cP,override:cX,isClassType:e});aF.findExtension=function(dh,d,dk){var dg=v[dh];var de=dk?dk.plugins:null;if(dg&&dg.length){if(d){for(var df=0;df<dg.length;df++){var dl=dg[df];if(d){if(!dl.metaData){continue}var dd=dl.metaData;var dj=true;for(var di in d){if(dd[di]!=d[di]){dj=false;break}}if(dj&&(!de||de.indexOf(dl.pluginUUID)!=-1)){return dl}}}}else{return dg[0]}}};aF.findExtensions=function(dh,d,dk){var dg=v[dh];var dm=[];var de=dk.plugins;if(dg){if(d){for(var df=0;df<dg.length;df++){var dl=dg[df];if(d){if(!dl.metaData){continue}var dd=dl.metaData;var dj=true;for(var di in d){if(dd[di]!=d[di]){dj=false;break}}if(!dj){continue}}if(!de||de.indexOf(dl.pluginUUID)!=-1){dm.push(dl)}}}else{dm=dg}}return dm};aF.createExtension=function(de,d,dd){var df=aF.findExtension(de,d,dd);if(df){return new df.clazz()}};var B=[];var bE={};aF.registerComponent=function(d){B.push(d);if(d.nodeOverride){bE[d.nodeOverride]=d}else{bE[d.nodeName]=d}};aF.cByNode=function(d){return bE[d]};aF.removeComponent=function(d){var dd=B.indexOf(d);if(dd!=-1){B.splice(dd,1)}};var v={};aF.registerExtension=function(df){var dd=df.clazz;if(dd.interfaces){for(var de=0;de<dd.interfaces.length;de++){var d=dd.interfaces[de];v[d]=v[d]||[];v[d].push(df)}}};aF.getAllComponents=function(d){return B};var y="width";var aj="height";var bL="transform";var cZ="transition";if(aF.uaIdent){bL=aF.uaIdent+"Transform";cZ=aF.uaIdent+"Transition"}function ah(d,dd){try{switch(arguments.length){case 1:return this.getAttribute(d);case 2:this.setAttribute(d,dd);break;default:for(var de=0;de<arguments.length;de+=2){this.setAttribute(arguments[de],arguments[de+1])}break}}catch(df){}}var cY={};if(aF.isFirefox){cY["float"]="cssFloat"}else{if(aF.isIE){cY["float"]="styleFloat"}}function c8(d,dd){try{d=cY[d]||d;if(!dd&&dd!==0){return this.style[d]}this.style[d]=dd}catch(de){}}function aO(d){this.innerHTML=d}function bm(d){this.innerText=d;this.textContent=d}function R(d){var dd=document.createElement(d);dd.css=c8;dd.attr=ah;dd.bind=aF._bind;dd.unbind=aF._unbind;dd.html=aO;dd.addClass=S;dd.removeClass=bU;dd.setText=bm;return dd}function cU(d){try{return Number(d).toFixed(3)+"px"}catch(dd){return d+"px"}}function c9(d){if(!d){return 0}return Number(d.slice(0,d.length-2))}function bH(dd,d,de){if(d){return function(df){if(df!=null){df=d[0](df)}var df=this.css(dd,df);if(df===null){df=de}return d[1](df)}}return function(df){return this.css(dd,df)||de}}function cq(d){if(d==null){return this.css("display")!="none"}if(d){if(aF.isIE){this.style.removeAttribute("display")}else{this.style.removeProperty("display")}}else{this.css("display",d?"inherit":"none")}}function cK(dd){var d="";if(dd._sx!=1||dd._sy!=1){d+="scale("+dd._sx+","+dd._sy+") "}dd.css(bL,d)}function aG(d){if(d==null){return this._sx}this._sx=d;cK(this)}function aC(d){if(d==null){return this._sy}this._sy=d;cK(this)}function bP(d){if(d==null){return this._sx}this._sx=d;this._sy=d;cK(this)}var cn=function(d,de,dd){this.css("left",d+"px");this.css("top",de+"px")};var db=aF.isFirefox;var bT=aF.isWebKit;if(aF.isAndroid&&aF.androidVersion<4.2){db=false;bT=false}if(aF.noT3D){bT=false}if(bT){cn=function(d,de,dd){this.css(bL,"translate3d("+d+"px, "+de+"px, 0px) scale("+dd+")")}}else{if(db){cn=function(d,de,dd){this.css(bL,"translate("+d+"px, "+de+"px) scale("+dd+")")}}else{if(aF.isIE9||aF.isAndroid){cn=function(d,df,de){var dd=this;if(dd._tfx==null){dd._tfx=d;dd._tfy=df;dd._tfs=de;dd.css(bL,"translate("+d+"px, "+df+"px) scale("+de+")");return}aF.tween(this,0.3,{tx:d,ty:df,ts:de,frame:function(dg){dd._tfx=dg.tx;dd._tfy=dg.ty;dd._tfs=dg.ts;dd.css(bL,"translate("+dg.tx+"px, "+dg.ty+"px) scale("+dg.ts+")")}},{tx:dd._tfx,ty:dd._tfy,ts:dd._tfs})}}}}function bY(d,dd){this.css(y,d+"px");this.css(aj,dd+"px");this.css("overflow","hidden");this._w=d;this._h=dd}function cH(d){this.appendChild(d)}function cI(de,d){var dd=this.childNodes;if(d<dd.length){this.insertBefore(de,dd[d])}else{this.appendChild(de)}}function aw(dd){try{this._removeChild(dd)}catch(d){}}function S(d){if(this.className){if((this.className+" ").indexOf(d+" ")!=-1){return}this.className+=" "+d}else{this.className=d}}function bU(dd){var de=this.className;var d=(de+" ").split(dd+" ").join("");this.className=ar(d)}function aa(){return this.childNodes}function c4(){for(var d in a6){this[d]=a6[d]}}function L(){while(this.hasChildNodes()){this.removeChild(this.lastChild)}}function ce(de,df,dd){dd=dd||this;var d=aF.isWebKit||aF.isFirefox;if(d){if(de==0){dd.css(cZ,"none")}else{dd.css(cZ,"all "+de+"s "+(df||"ease-out"))}}return d}function ac(d,dd){d.css("zIndex",dd)}function bi(dd,d){dd.css("user-select",d);dd.css("-moz-user-select",d);dd.css("-webkit-user-select",d)}function aB(dd){if(typeof(dd)=="string"){if(dd.indexOf("#")==0){dd=dd.slice(1,dd.length);dd=parseInt(dd,16)}}var df=(dd&16711680)>>16;var de=(dd&65280)>>8;var d=dd&255;var dg=1;if(dg!=1){return"rgba("+df+","+de+","+d+","+dg+")"}else{return"rgb("+df+","+de+","+d+")"}}function aK(dg,di,df,dd){var d=df||"0";var dh=dd||"100";var de="-linear-gradient(top, "+dg+" "+d+"%, "+di+" "+dh+"%)";if(aF.isWebKit){this.css("background","-webkit-gradient(linear, left top, left bottom, color-stop("+d+"%,"+dg+"), color-stop("+dh+"%,"+di+"))")}else{if(aF.isFirefox){this.css("background","-moz"+de+" transparent")}else{if(aF.isIE10){this.css("background","-ms"+de)}else{if(aF.isIE){this.css("filter","progid:DXImageTransform.Microsoft.gradient( startColorstr='"+dg+"', endColorstr='"+di+"',GradientType=0 )")}else{if(aF.isOpera){this.css("background","-o"+de)}else{this.css("background",dg)}}}}}}function k(d){d+="px";this.css("borderRadius",d);this.css("mozBorderRadius",d);this.css("webkitBorderRadius",d)}var aJ=bH("opacity",null,0);if(aF.isIE){if(aF.ieVersion<=7){aJ=function(d){d=Number(d);if(!arguments.length){return this._alpha||0}if(d==1){this.style.removeAttribute("filter")}else{this.css("filter","alpha(opacity="+Math.round(d*100)+");")}this._alpha=d}}else{if(aF.ieVersion<=8){aJ=function(d){if(!arguments.length){return this._alpha||0}d=Number(d);if(d==1){this.style.removeAttribute("filter")}else{this.css("filter","progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.ceil(d*100)+");")}this._alpha=d}}}}var a6={};var bX="0px";var bD={_x:bH("left",[cU,c9],bX),_y:bH("top",[cU,c9],bX),width:bH(y,[cU,c9],bX),height:bH(aj,[cU,c9],bX),marginTop:bH("marginTop",[cU,c9],bX),alpha:aJ,clip:bY,visible:cq,scaleX:aG,scaleY:aC,scale:bP,transform:cn,addChild:cH,addChildAt:cI,removeChild:aw,childList:aa,animatable:c4,transition:ce,removeAll:L,setDepth:ac,userSelect:bi,cornerRadius:k,linearGradient:aK,_sx:1,_sy:1,__x:0,__y:0,isTC:true,mkRel:function(){this.css("position","relative")}};if(aF.isWebKit){var am=function(d){if(arguments.length==0){return this.__x}this.__x=d;if(aF.isIOS&&!aF.noT3D){this.css(bL,"translate3d("+this.__x+"px, "+this.__y+"px, 0px)")}else{this.css(bL,"translate("+this.__x+"px, "+this.__y+"px)")}};var al=function(d){if(arguments.length==0){return this.__y}this.__y=d;if(aF.isIOS&&!aF.noT3D){this.css(bL,"translate3d("+this.__x+"px, "+this.__y+"px, 0px)")}else{this.css(bL,"translate("+this.__x+"px, "+this.__y+"px)")}};a6._x=am;a6._y=al}var cQ="margin:0px; padding:0px; position:absolute;overflow:visible;";if(aF.isWebKit){cQ+="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"}aF.globalCSS(".tcElement",cQ);function aA(dd){dd._removeChild=dd.removeChild;for(var d in bD){dd[d]=bD[d]}dd.addClass("tcElement")}function cp(de){var df=R("div");aA(df);if(de&&!de.isTC){for(var dd in de){var dg=de[dd];if(dd=="css"){for(var d in dg){df.css(d,dg[d])}continue}df[dd]=dg}}return df}function aY(){var d=R("img");aA(d);return d}function ak(df,de){if(df==de){return true}if(!df){return false}var d=df;var dd=false;while(d.parentNode&&(dd==false||(d.parentNode&&d.parentNode.className&&d.parentNode.className.indexOf("tcElement")!=-1))){d=d.parentNode;if(d==de){return true}dd=dd||(d.parentNode&&d.parentNode.className&&d.parentNode.className.indexOf("tcElement")!=-1)}if(d.tagName=="SPAN"){return ak(d.parentNode,de)}return false}function be(df,dd,d){var de=df;while(de&&de.className=="tcElement"){if(de.__clazz__==dd){return de}de=de.parentNode}return null}var bg=null;if(aF.isIE){bg=function(d){this.attr("unselectable",d?"off":"on")}}else{var T="userSelect";if(aF.isFirefox){T="mozUserSelect"}else{if(aF.isWebKit){T="webkitUserSelect"}}bg=function(d){this.css(T,d?"text":"none")}}aF.globalCSS(".tcText","padding:1px 1px 3px 2px;word-spacing:0px;word-wrap:break-word;line-height:normal;");var aZ=null;function X(df,dk,di){var dg=Number(df.css(y).split("px").join(""));var dd=Number(df.css(aj).split("px").join(""));var d=function(dq,ds){var dr=dk.split(" ");var dn="";for(var dp=0;dp<dr.length;dp++){var dm=dn+dr[dp];if(dp!=dr.length-1){dm+=di}ds.innerHTML=dm;if(dj==-1){dj=ds.offsetHeight+8}if(ds.offsetWidth-8>dg||ds.offsetHeight-2>dd){if(ds.offsetHeight>=dj){dn+=di;break}}dn=dn+dr[dp]+" "}if(dq.children.length==1){dq.lastChild.innerHTML=dn}else{dq.innerHTML=dn}};var dj=-1;aZ.css("fontFamily",df.css("fontFamily"));aZ.css("fontSize",df.css("fontSize"));aZ.css("maxWidth",(dg)+"px");if(aF.isWebKit&&df.isEmbeddedFont){aZ.innerHTML=dk;var dh=df.css("fontFamily");var dl=df.css("fontSize");var de=(dg)+"px";setTimeout(aF.closure(function(){aZ.css("fontFamily",dh);aZ.css("fontSize",dl);aZ.css("maxWidth",de);d(df,aZ)},this),250)}else{d(df,aZ)}}function bQ(dg,dk){var dh=Number(dg.css(y).split("px").join(""));var dd=Number(dg.css(aj).split("px").join(""));if(isNaN(dh)){return}var dj=-1;aZ.css("fontFamily",dg.css("fontFamily"));aZ.css("fontSize",dg.css("fontSize"));aZ.css("maxWidth",(dh+5)+"px");var di=dk.toString().split(" ");var d="";for(var df=0;df<di.length;df++){var de=d+di[df];aZ.innerHTML=de;if(dj==-1){dj=aZ.offsetHeight+8}d=d+di[df]+" "}dg.height(aZ.offsetHeight)}function cE(dd){for(var d=0;d<dd.length&&W(dd.charAt(d));d++){}return dd.substring(d,dd.length)}function I(dd){for(var d=dd.length-1;d>=0&&W(dd.charAt(d));d--){}return dd.substring(0,d+1)}function ar(d){return cE(I(d))}function W(d){var dd=" \t\n\r\f";return(dd.indexOf(d)!=-1)}var bf={fontStyle:function(de,dd,d){if(!de){return}var dg=arguments.length!=3;this.css("fontSize",dg?de.size:de);this.css("color",dg?de.color:d);var df=dg?de.font.name:dd;this.css("fontFamily",df);if(aF.isFirefox&&df.indexOf("Arial Black")!=-1){this.css("fontWeight","900")}},selectable:bg,text:function(d){if(!d||typeof(d)!="string"){return}d=ar(d);d=d.split("\r").join("<br />");if(this._ellipse){X(this,d," &hellip;")}else{if(this._clipTxt){X(this,d,"")}else{this.html(d)}}},ellipsis:function(){this.css("overflow","hidden");this._ellipse=true},clipText:function(){this._clipTxt=true},textAlign:function(d){this.css("textAlign",d)},size:function(d,dd){this.css(y,d+"px");this.css(aj,dd+"px")},reset:function(){this.text("&nbsp;")},clip:function(d,dd){this.css(y,(d-3)+"px");this.css(aj,dd+"px");this.css("overflow","hidden");this._w=d;this._h=dd}};function cl(de){var dd=de||R("div");aA(dd);dd.addClass("tcText");for(var d in bf){dd[d]=bf[d]}return dd}aF.initText=function(d){if(aZ!=null){return}aZ=aF.newText();aZ.css("left","-4000px");aZ.css("opacity",0);d.addChild(aZ)};function V(dd){var d=dd.parentNode;if(d!=null){d.removeChild(dd);d.appendChild(dd)}}aF.m.sizeableClip={size:function(d,dd){if(arguments.length==0){return[this._w,this._h]}if(isNaN(d)){return}if(isNaN(dd)){return}this._w=d;this._h=dd;this.clip(d,dd)}};aF.m.sizeable={size:function(d,dd){if(arguments.length==0){return[this._w,this._h]}if(isNaN(d)){return}if(isNaN(dd)){return}this._w=d;this._h=dd;this.width(d);this.height(dd)}};aF.scene=this.clazz({create:function(){this.css("position","inherit")}},cp,[aF.m.sizeableClip]);function a3(dd,df,d){var de=df;while(de!=null){d.x-=de._x();d.y-=de._y();de=de.parentNode;if(de==dd){return d}}return d}aF.globals({newDisplay:cp,transition:ce,findParent:be,initDisplay:aA,newImg:aY,create:R,addChild:cH,front:V,newText:cl,measureText:bQ,isChildOf:ak,globalToLocal:a3,parseColor:aB,trim:ar,transformCSS:bL,has3d:bT});function aB(dd,dg){if(isNaN(Number(dg))){dg=1}if(dd[0]=="#"){dd=parseInt(dd.slice(1,dd.length),16)}var df=(dd&16711680)>>16;var de=(dd&65280)>>8;var d=dd&255;if(dg!=1){return"rgba("+df+","+de+","+d+","+dg+")"}else{return"rgb("+df+","+de+","+d+")"}}function au(d){return d*(Math.PI/180)}function ag(dj,dd){try{dj.lineCap="none";dj.lineJoin="miter";dj.miterLimit=3;dj.lineWidth=0;dj.strokeStyle="#000000";dj.moveTo(0,0);var di=dj._data=dj._data||{};di.stroke=null;di.fill=null;if(dd.length>0){var de=dd.length;for(var df=0;df<de;df++){var dg=dd[df];dg(dj,di)}}}catch(dh){}}function cO(dh,dk,dj,dl,df,d){if(isNaN(dk)){dk=0}if(isNaN(dj)){dj=0}if(isNaN(dl)){dl=0}if(isNaN(df)){df=0}var di=dh._extraWidth||0;var dd=dh._extraHeight||0;dl+=dh.l+di;df+=dh.l+dd;var dg=Math.min(dh.x,dk);var de=Math.min(dh.y,dj);dh.w=Math.max(dh.r,dk+dl)-dg;dh.h=Math.max(dh.b,dj+df)-de;dh.x=dg;dh.y=de;dh.b=dh.y+dh.h;dh.r=dh.x+dh.w}function w(de,df,d){var dd=this.canvas.createLinearGradient(0,0,0,d);dd.addColorStop(0,de);dd.addColorStop(1,df);this.cmds.push(function(dh,dg){if(dg.fill){dh.closePath();dh.fill()}dh.beginPath();dh.fillStyle=dd;dg.fill=true})}function b4(d,de){if(de===null){de=1}var dd=aB(d,de);this.cmds.push(function(dg,df){if(df.fill){dg.closePath();dg.fill()}dg.beginPath();dg.fillStyle=dd;df.fill=true})}function br(d){this.cmds.push(function(de,dd){de.fill();if(dd.stroke){if(d){d()}de.stroke()}de.closePath();dd.fill=false})}function a1(dg,df,dj,di,d,de){var dd=arguments.length;if(dd<4){di="round"}if(dd<5){d="round"}if(dd<6){de=3}this.l=dg;var dh=aB(df,dj);this.cmds.push(function(dm,dl){if(dg==0){dm.strokeStyle="#000000"}else{dm.strokeStyle=dh}try{dm.lineCap=di}catch(dk){}dm.lineJoin=d;dm.miterLimit=de;dm.lineWidth=dg;dl.stroke=dg>0})}function dc(d,df,dd,de){if(dd==0||de==0){return}cO(this,d,df,dd,de);this.cmds.push(function(dh,dg){dh.rect(d,df,dd,de);if(dg.fill){dh.fill()}if(dg.stroke){dh.stroke()}dh.closePath();dh.beginPath()})}function ba(d,df,dd,de){cO(this,d,df,dd,de);this.cmds.push(function(dh,dg){bB(dh,d,df,dd,de);if(dg.fill){dh.fill()}if(dg.stroke){dh.stroke()}})}function bB(di,dk,dj,dl,dh){var dd=dl/2;var d=dh/2;var df=0.5522847498;var dg=df*dd;var de=df*d;di.beginPath();di.moveTo(dk+dd,dj);di.bezierCurveTo(dk+dd,dj-de,dk+dg,dj-d,dk,dj-d);di.bezierCurveTo(dk-dg,dj-d,dk-dd,dj-de,dk-dd,dj);di.bezierCurveTo(dk-dd,dj+de,dk-dg,dj+d,dk,dj+d);di.bezierCurveTo(dk+dg,dj+d,dk+dd,dj+de,dk+dd,dj);di.closePath()}function cB(d,dd){this.cmds.push(function(df,de){df.moveTo(d,dd)})}function bs(d,dd){cO(this,d,dd,0,0);this.cmds.push(function(df,de){df.lineTo(d,dd);if(de.stroke){df.stroke()}if(!de.fill){df.beginPath();df.moveTo(d,dd)}})}function bC(d,dh,dd,de,dg,df){cO(this,d,dh,dd,de);this.cmds.push(function(dj,di){J(dj,d,dh,dd,de,dg,df)})}function J(di,dk,dj,dl,dh,dd,d){dd=Math.min(dl*0.5,d);d=Math.min(dh*0.5,dd);var df=0.5522847498;var dg=df*dd;var de=df*d;di.moveTo(dk+dd,dj);di.lineTo(dk-dd+dl,dj);di.bezierCurveTo(dk-dd+dl+dg,dj,dk+dl,dj+d-de,dk+dl,dj+d);di.lineTo(dk+dl,dj+dh-d);di.bezierCurveTo(dk+dl,dj+dh-d+de,dk-dd+dl+dg,dj+dh,dk-dd+dl,dj+dh);di.lineTo(dk+dd,dj+dh);di.bezierCurveTo(dk+dd-dg,dj+dh,dk,dj+dh-d+de,dk,dj+dh-d);di.lineTo(dk,dj+d);di.bezierCurveTo(dk,dj+d-de,dk+dd-dg,dj,dk+dd,dj)}function u(dg,df,de,d,dd){this._extraWidth=de+dg;this._extraHeight=de+df;this.cmds.push(function(di,dh){di.shadowOffsetX=dg;di.shadowOffsetY=df;di.shadowBlur=de;di.shadowColor=aB(d,1)})}function cd(){this.cmds.push(function(de,dd){de.shadowOffsetX=0;de.shadowOffsetY=0;de.shadowBlur=0;de.shadowColor="rgba(0,0,0,0)"})}function bl(){var d=this.canvas;d.shadowOffsetX=0;d.shadowOffsetY=0;d.shadowBlur=0;d.shadowColor="rgba(0,0,0,0)"}function cT(){this.x=this.y=this.w=this.h=this.b=this.r=this.l=0;this.cmds.splice(0,this.cmds.length)}function aN(){this.element.width=this.r;this.element.height=this.b;ag(this.canvas,this.cmds)}function bn(d){var dd={redraw:aN,beginFill:b4,basicLinearFill:w,lineStyle:a1,drawRect:dc,drawEllipse:ba,endFill:br,moveTo:cB,lineTo:bs,drawRoundRect:bC,clear:cT,parseAlphaColor:aB,shadow:u,clearShadow:cd,forceClearShadow:bl,cmds:[],canvas:d.getContext("2d"),element:d,x:0,y:0,w:0,h:0,b:0,r:0,l:0};return dd}function bv(){return this._grfx}var b8={graphics:bv};function bG(){var d=this.create("canvas");d._grfx=bn(d);this.extend(d,b8);this.initDisplay(d);return d}this.globals({newGraphic:bG});function h(dk,di,dh,dg){var df=dk-dh;var de=dg-di;var dd=Math.round(Math.sqrt(Math.pow(df,2)+Math.pow(de,2)));var d=Math.atan2(de,df);var dj=Math.round(d*180/Math.PI);if(dj<0){dj=360-Math.abs(dj)}return dj}function s(d){if((d<=45)&&(d>=0)){return"left"}else{if((d<=360)&&(d>=315)){return"left"}else{if((d>=135)&&(d<=225)){return"right"}else{if((d>45)&&(d<135)){return"down"}else{return"up"}}}}}var bq=false;var aL=false;function cJ(d,de,dr,dp){var dd=dr;dd.hasMoved=false;var dq=0;var dl=0;var dj=0;var di=0;var dh=false;var df=false;var dn=0;var dk=false;d.bind("touchstart",function(dw){dk=true;dn=dw.touches.length;if((aF.scrollAnimWait||aL)&&aF.isIOS){return}df=false;if(bq){return}var dt=dw.touches.length;if(dt==1){var dv=dw.touches[0];if(dv.target.noGesture){return}de.pause(true);bq=true;dq=dv.pageX;dl=dv.pageY;if(!dv.target.excGesture){var du=false;if(dw.srcElement&&!(dw.srcElement.nodeName.toLowerCase()=="div"||dw.srcElement.nodeName.toLowerCase()=="img")){du=true}if((!aF.isAndroid)&&(!du)&&(dp==null)){}}de.trackinit();dh=true}dd.hasMoved=false});d.bind("touchend",function(dv){dk=false;if(!bq){return}dg=null;dd.touchMoving=false;dd.isTweening=false;dh=false;bq=false;de.pause(false);if(dd.hasMoved){if(dq!=0&&de.track!=null){de.track("reset",0,0)}else{return}var dA=h(dq,dl,dj,di);var dw=s(dA);var dC=(dq-dj)>0?"left":"right";var dz=(dl-di)>0?"up":"down";var dB={x:{val:(dq-dj),dir:dC,gtr:(Math.abs(dq-dj)>de.max)},y:{val:(dl-di),dir:dz,gtr:(Math.abs(dl-di)>de.max)}};var dx=Math.round(Math.sqrt(Math.pow(dj-dq,2)+Math.pow(di-dl,2)));if(dx>de.max){if((dw=="left")&&(de.next)){de.next("touch",dB)}else{if((dw=="right")&&(de.prev)){de.prev("touch",dB)}}if((dw=="up")&&(de.up)){de.up("touch",dB)}else{if((dw=="down")&&(de.down)){de.down("touch",dB)}}dq=0;dl=0}else{if(de.incomplete){de.incomplete(dw,dB)}}}var dt=dd;var du=function(){dt.isTweening=false};var dy=setTimeout(du,30);dd.isTweening=false});var dg=null;d.bind("touchmove",function(du){dk=true;if(dn>1||du.touches.length>1){if(aF.isIOS&&!df){aF.scrollAnimWait=false;aL=true;ds();df=true}}if(!bq){return}dd.touchMoving=true;if(!dh){return}if(du.touches.length==1&&dq!=0){var dA=du.touches[0];if(dA.target.noGesture){return}dd.isTweening=true;dj=dA.pageX;di=dA.pageY;var dy=h(dq,dl,dj,di);var dv=s(dy);if(dp&&dg==null){dg=dv}var dt=true;if((dp=="v"&&(dg=="up"||dg=="down"))||(dp=="h"&&(dg=="left"||dg=="right"))){dt=false;dg=null;dd.touchMoving=false;dd.isTweening=false;dh=false;bq=false;de.pause(false);if(aF.isIOS&&!df){aL=true;aF.scrollAnimWait=true;ds();df=true}}if(dt){dd.hasMoved=true;du.preventDefault();var dB=(dq-dj)>0?"left":"right";var dx=(dl-di)>0?"up":"down";var dz={x:{val:(dq-dj),dir:dB,gtr:(Math.abs(dq-dj)>de.max)},y:{val:(dl-di),dir:dx,gtr:(Math.abs(dl-di)>de.max)}};var dw=Math.round(Math.sqrt(Math.pow(dj-dq,2)+Math.pow(di-dl,2)));if(de.track){de.track(dv,dq-dj,dl-di,dz)}}}});var dm;var ds=function(){clearTimeout(dm);dm=setTimeout(function(){if(!dk){aF.scrollAnimWait=false;aL=false}else{ds()}},100)}}function aD(de){if(!de){return}de.noGesture=true;var dd=de.childNodes;for(var d=0;d<dd.length;d++){aD(dd[d])}}this.globals({touchSlider:cJ,disableGestures:aD,scrollAnimWait:aL});var b0=35;function P(di,dd,de,d){if(di._tween){clearInterval(di._tween.interval);clearTimeout(di._tween.interval)}var dm={e:di,time:dd*1000,params:de,start:aF.getTimer(),ease:de.ease||z,onComplete:de.onComplete||null};di._tween=dm;var dj=de.frame;var dh=de.delay||0;delete de.ease;delete de.onComplete;delete de.frame;delete de.delay;var dk=new Array();for(var dg in de){var dl=di[dg]?Number(di[dg]()):d[dg];dk.push([dg,dl,de[dg]-dl])}dm.updates=dk;de.ease=de.ease||z;dm.frameFunc=dj;dm.params=de;function df(){dm.interval=setInterval(bZ(dm,de,dj),1000/b0)}if(dh>0){dm.interval=setTimeout(df,dh*1000)}else{df()}}function bZ(d,de,dd){return function(){bd(d,de,dd)}}function bd(de,dj,dg){var di=aF.getTimer()-de.start;var df=0;if(di>=de.time){df=1}else{df=de.ease(di,0,1,de.time)}var dh=de.updates;if(!dg){for(var dd=0;dd<dh.length;dd++){var d=dh[dd];de.e[d[0]](d[1]+(d[2]*df))}}else{var dj={};for(var dd=0;dd<dh.length;dd++){var d=dh[dd];dj[d[0]]=d[1]+(d[2]*df)}dg(dj)}if(di>=de.time){clearInterval(de.interval);if(de.onComplete!=null){de.onComplete(de.e)}de.e._tween=null}}function z(de,dd,dg,df){return -1*(de/=df)*(de-2)}function p(de,dd){if(de._tween){var d=de._tween;d.start=aF.getTimer()-d.time;bd(d,d.params,d.frameFunc);clearInterval(d.interval);clearTimeout(d.interval);de._tween=null}}this.globals({killOfTween:p,tween:P});function bI(d){var de=d.indexOf("://");if(de==-1){return c7}var dd=d.indexOf("/",de+3);if(dd!=-1){d=d.slice(0,dd)}return d}var c7=bI(window.location.toString());var f={};function ch(d){f[bI(d)]={path:d}}if(typeof XMLHttpRequest=="undefined"){XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(d){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(d){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(d){}}}function Y(d){var df=d.indexOf("//");var dd={protocol:d.slice(0,df)};df+=2;var de=d.indexOf("/",df);if(de==-1){dd.pathname="";dd.host=d.slice(df,d.length)}else{dd.host=d.slice(df,de);dd.pathname=d.slice(de,d.length)}return dd}function t(df,d){if(!df){return df}if(/^\w+:/.test(df)){return df}var de=d.protocol+"//"+d.host;if(df.indexOf("/")==0){return de+df}var dh=d.pathname.replace(/\/[^\/]*$/,"");var dg=df.match(/\.\.\//g);if(dg){df=df.substring(dg.length*3);for(var dd=dg.length;dd>=0;dd--){dh=dh.substring(0,dh.lastIndexOf("/"))}}return de+dh+"/"+df}function bA(d){d=t(d,location);return Y(d)}function bk(d,dd){return t(d,dd||location)}function bp(di,d,de,dh){if(de){d=aF.closure(d,de)}var dg={cb:d,pending:[],success:true,data:{}};for(var df=0;df<di.length;df++){var dd=di[df].data;if(dd){dg[di[df].id]=dd;dd.root=null;di.splice(df,1);df--}}if(di.length==0){d(true,dg)}for(var df=0;df<di.length;df++){var dj=di[df];dg.pending.push(dj)}for(df=0;df<di.length;df++){dj=di[df];cg(dj.url,av(dj,dg,df),dj,null,dh)}}function av(d,dd,de){return function(dg,df){var dh=dd.pending.indexOf(d);if(dh!=-1){dd.pending.splice(dh,1)}if(!dg){dd.success=false}if(d.id!=null){dd[d.id]=df}dd.data[de]=df;if(dd.pending.length==0){if(dd.cb!=null){dd.cb(dd.success,dd)}dd.cb=null}}}var b7={};var c5={};var m={};var U={};function Q(dd,df,dl,di){if(dl){df=aF.closure(df,dl)}if(b7[dd]){df(true,b7[dd]);return}if(U[dd]){df(false,U[dd]);return}if(aF.preloadProxy){var dk=aF.findParent(di,aF.carouselPlayer);var dj=aF.preloadProxy("image",arguments,dk);if(!dj){return}}var dh=m[dd]=m[dd]||[];if(di){dh.push(di);aF.loading(di,true)}if(c5[dd]!=null){c5[dd].push(df);return}var de=[df];c5[dd]=de;var dg=aF.create("img");dg.bind("abort",function(){for(var dm=0;dm<de.length;dm++){de[dm](false,dg)}delete c5[dd]});dg.bind("load",function(){b7[dd]=dg;for(var dm=0;dm<de.length;dm++){de[dm](true,dg)}for(var dm=0;dm<dh.length;dm++){aF.loading(dh[dm],false)}delete m[dd];delete c5[dd]});dg.bind("error",function(){U[dd]=dg;for(var dm=0;dm<de.length;dm++){de[dm](false,dg)}for(var dm=0;dm<dh.length;dm++){aF.loading(dh[dm],false)}delete m[dd];delete c5[dd]});if(di&&aF.isIE9){var d=aF.create("div");d.attr("class","tcElement");d.attr("style","width:0px;height:0px;overflow:hidden");di.appendChild(d);d.appendChild(dg)}dg.attr("src",dd)}aF.netCB=aF.netCB||{};aF.netCount=aF.netCount||1;aF.netCache=aF.netCache||{};function cg(de,di,dd,d,df){dd=dd||{};dd.method=dd.method||"GET";var dh=true;if(dd!=null&&dd.noAbs==true){dh=false}if(dh){de=bk(de,dd.base)}if(d!=null){di=aF.closure(di,d)}if(dd.type=="img"){Q(de,di,null,df);return}if(dd.method=="GET"&&aF.netCache[de]){di(true,aF.netCache[de]);return}if(aF.netCB[de]){aF.netCB[aF.netCB[de]].c.push(di);return}var dg=bI(de);if(dg==c7){af(de,di,dd)}else{ax(de,di,dd,dg)}}function bc(de){var d="";for(var dd in de){if(d!=""){d+="&"}d+=dd+"="+escape(de[dd].toString())}return d}function af(de,dj,dd){var dg=new XMLHttpRequest();try{var d=aF.netCount++;aF.netCB[d]={c:[dj],u:de,m:dd.method};if(dd.method=="GET"){aF.netCB[de]=d}var di=dd.method?dd.method.toUpperCase():"GET";if(dd.data!=null&&di=="GET"){de+=((de.indexOf("?")==-1)?"?":"&")+bc(dd.data)}dg.open(dd.method,de,true);if(dd.headers){for(var df in dd.headers){dg.setRequestHeader(df,dd.headers[df])}}dg.onreadystatechange=function(){if(dg.readyState!=4){return}aM(d,dg.status==200,dg.responseText)};if(dd.data!=null&&di=="POST"){dg.send(bc(dd.data))}else{dg.send(null)}}catch(dh){}}function ax(de,dj,dd,dh){if(f[dh]==null){dj(false);return}var dg=f[dh];if(dg.iframe==null){dg.queue=[];dg.loaded=false;var df=dg.iframe=aF.create("iframe");df.css("visibility","hidden");df.css("width","0px");df.css("height","0px");df.css("border","0px");df.onload=function(){for(var dl=0;dl<dg.queue.length;dl++){var dk=dg.queue[dl];dg.iframe.contentWindow.postMessage(dk.dataString,dk.dest)}dg.loaded=true};df.src=dg.path;document.body.appendChild(dg.iframe)}var di=aF.netCount++;var d={type:"xdLoad",url:de,method:dd.method,data:dd.data,headers:dd.headers,id:di,dest:dh,from:c7};d.dataString=aF.jsonStr(d);aF.netCB[di]={c:[dj],u:de,m:dd.method};if(dd.method=="GET"){aF.netCB[de]=di}if(dg.loaded){dg.iframe.contentWindow.postMessage(d.dataString,d.dest)}else{dg.queue.push(d)}}function c2(d){try{var de=aF.json(d.data);if(typeof(de)=="object"){if(de.type=="xdLoaded"){aM(de.id,de.status==200,de.data)}}}catch(dd){}}function aM(df,de,d){var dd=aF.netCB[df];if(!dd){return}aF.forEach(dd.c,function(dg){dg(de,d)});delete aF.netCB[df];if(de&&dd.m=="GET"){aF.netCache[dd.u]=d}if(aF.netCB[dd.u]==df){delete aF.netCB[dd.u]}}if(window.addEventListener){window.addEventListener("message",c2,false)}else{if(window.attachEvent){window.attachEvent("onmessage",c2)}}this.globals({load:cg,loadImg:Q,batchLoad:bp,allowDomain:ch,decodeBasePath:bA,absolute:bk,uri:Y,originDecode:bI});function bN(de,d){if(!d){d=this.root||this}if(!de){return}de.root=d;de.nodeText=bR;for(var dd in de){if(dd=="root"||dd=="_parent"){continue}if(typeof(de[dd])=="object"){bN(de[dd],d)}}return de}function ci(d){try{var de=null;if(!aF.isIE){de=new DOMParser().parseFromString(d,"text/xml")}else{de=new ActiveXObject("Microsoft.XMLDOM");de.async="false";de.loadXML(d)}return de}catch(dd){}}function aU(dd){if(typeof(dd)=="string"){dd=ci(dd)}else{if(!dd.root&&!dd.childNodes){cA(dd,dd,null);return dd}}if(!dd){return}if(dd.childNodes){for(var d=0;d<dd.childNodes.length;d++){if(dd.childNodes[d].nodeType==1){return cD(dd.childNodes[d])}}}else{return dd}}function bR(dd){var d=dd?this[dd]:this;if(d){return typeof(d)=="string"?aF.trim(d):(d._body?aF.trim(d._body):null)}return null}function cA(dd,d,df){dd.root=d;dd._parent=df;dd.importNode=bN;dd.nodeText=bR;for(var de=0;de<dd.length;de++){var di=dd[de];cA(di,d,dd);var dh=di._name;var dg=dh.indexOf(":");if(dg!=-1){dh=dh.slice(dg+1)}dg=dh.indexOf(".");if(dh!=-1){dh=dh.slice(dg+1)}dd[dh]=di}for(var de in dd){di=dd[de];if(di=="true"){di=true}if(di=="false"){di=false}dd[de]=di}}function cD(d,dj,dm){var dn={length:0};dn._name=d.nodeName;dn.root=dj;dn._parent=dm;dn.importNode=bN;dn.nodeText=bR;if(!dj){dn.root=dn}if(d.attributes!=null){for(var dd=0;dd<d.attributes.length;dd++){var di=d.attributes[dd];var dl=di.value.toString();if(dl=="true"){dl=true}if(dl=="false"){dl=false}dn[di.nodeName]=dl}}var dk=d.childNodes;for(var dd=0;dd<dk.length;dd++){var dh=dk[dd];if(dh.nodeType==1){var dp=dh.nodeName;var dg=dp.indexOf(":");if(dg!=-1){dp=dp.slice(dg+1)}dg=dp.indexOf(".");if(dp!=-1){dp=dp.slice(dg+1)}var df=cD(dh,dn.root,dn);var de=dn.length;dn[de]=df;dn.length++;dn[dp]=df}}if(d.childNodes.length>0){dn._body=d.childNodes[0].nodeValue}return dn}function cW(d){if(d){return this.data}}function bj(d,dd){if(d.attributes[dd]!=null){return d.attributes[dd].value}}aF.getNodeByName=function(de,d){d=d.toLowerCase();for(var dd=0;dd<de.length;dd++){if(de[dd]&&de[dd]._name&&de[dd]._name.toLowerCase()==d){return de[dd]}}return null};this.globals({xParse:ci,xParseObj:aU,xText:cW,xAttr:bj,xNodeText:bR});function aX(dg,de,dh,dd){var d=100;var df={e:dg,type:de,params:dh,dist:dh.dist||d,onStart:dh.onStart||null,onUpdate:dh.onUpdate||null,onComplete:dh.onComplete||null,ignore:dh.ignore||null};dg._gesture=df;delete dh.onComplete;delete dh.onUpdate;cN(df,dd)}function cN(dd,d){switch(dd.type){case"swipe":aF.touchSlider(dd.e,{next:aF.closure(function(de,df){cu(dd,df)},this),prev:aF.closure(function(de,df){G(dd,df)},this),up:aF.closure(function(de,df){c1(dd,df)},this),down:aF.closure(function(de,df){bS(dd,df)},this),trackinit:aF.closure(function(){cG(dd)},this),incomplete:aF.closure(function(de,df){g(dd,de,df)},this),track:aF.closure(function(dg,de,dh,df){at(dd,dg,de,dh,df)},this),pause:aF.closure(ao,this),max:dd.dist},d,dd.ignore);break}}function ao(){}function cG(d){d.midAnim=false}function g(de,df,dd){if(!de.enabled){return}de.midAnim=false;switch(df){case"up":de.onComplete(false,"up",de.dist,dd);break;case"down":de.onComplete(false,"down",de.dist,dd);break;case"left":de.onComplete(false,"left",de.dist,dd);break;case"right":de.onComplete(false,"right",de.dist,dd);break}}function at(df,de,d,dh,dg){if(de=="reset"){return}if(!df.midAnim){if(df.onStart){var dd=df.onStart(de,d,dh,dg)}if(typeof(dd)=="boolean"){df.enabled=dd}else{df.enabled=true}df.midAnim=true;return}if(!df.enabled){return}if(df.onUpdate){var dd=df.onUpdate(de,d,dh,dg)}if(typeof(dd)=="boolean"){df.enabled=dd}else{df.enabled=true}}function c1(dd,d){if(!dd.enabled){return}dd.onComplete(true,"up",dd.dist,d);dd.midAnim=false}function bS(dd,d){if(!dd.enabled){return}dd.onComplete(true,"down",dd.dist,d);dd.midAnim=false}function cu(dd,d){if(!dd.enabled){return}dd.onComplete(true,"left",dd.dist,d);dd.midAnim=false}function G(dd,d){if(!dd.enabled){return}dd.onComplete(true,"right",dd.dist,d);dd.midAnim=false}this.globals({gesture:aX});aF.repeaterDefault=function(d,dd,de){return function(di,dh,dj,df,dk){var dg=new d(dd,dh,df);dg.__index__=df;dj.addChild(dg);if(dk){dk(dg)}aF._el(dg,di);return dg}};aF.invokeChildren=function(de,dg,df){if(!de||!dg){return}var dd=de.childNodes;for(var d=0;d<dd.length;d++){if(dd[d][dg]){dd[d][dg].apply(dd[d],df)}else{aF.invokeChildren(dd[d],dg,df)}}};aF.m.elementCtnr={parse:function(dg){this._parseData=dg;var df={};for(var de=0;de<dg.length;de++){var di=dg[de];if(di.id!=null){df[di.id]=di}}var d=this.childList();for(var dd=0;dd<d.length;dd++){var dh=d[dd];if(dh._id&&df[dh._id]&&dh.parse){aF._el(dh,df[dh._id])}}}};aF.getProtocol=function(d){if(d==null){return null}var dd=d.indexOf("://");if(dd!=-1){return d.substr(0,dd).toLowerCase()}return""};aF.isInternal=function(dd,d){var de=aF.getProtocol(dd);if(de){if(aF.proto.indexOf(de)!=-1){return true}}return false};aF.proto=["goto"];aF.m.linkable={canLink:true,parse:function(dh,df){if(!dh){return}if(this.canLink){var dd=dh.link;if(dd!=null&&(dd=dd.link)){var dg=aF.getPlayer(dh);dd.href=dg.resolveTokenString(dd.href);if(dd.href&&dd.href!=""){this.attr("href",dd.href);this.attr("target",dd.target);this.css("cursor","pointer");if(this._clickFunc!=null){this.unbind("click",this._clickFunc,null,true)}var de=this;de.__allowLink=true;if(aF.isInternal(dd.href,dh)){this._clickFunc=function(){if(dg.touchMoving||dg.moreFingers){return}var d=aF.getProtocol(dd.href);if(d){if(dh){aF.tcTrigger(dh.root,"internalLink",{protocol:d,href:dd.href,body:dd.href.substr(d.length+3)})}}};this.bind("click",this._clickFunc,null,true);return}}this._clickFunc=function(){if(dg.touchMoving||dg.moreFingers){return}aF.track(dg,"LS",this,{metaName:"Carousel"},dd.href);if(de.__allowLink){window.open(dd.href,dd.target||"_self")}};this.bind("click",this._clickFunc,null,true)}}if(df){df(dh)}}};aF.media=aF.clazz({create:function(dd){this._id=dd;this.canLink=true;this.sm="user";this.css("background","rgba(0,0,0,0)");var d=this._img=aF.create("img");d.css("position","absolute");d.css("display","none");this.addChild(d);this.li=0},parse:function(dx,dj){var dh=aF.getPlayer(dx);var dA=[];if(this.sm=="aspect"){dA.push("sm=TL")}else{dA.push("sm=S")}var ds=dx.mediaScale;if(ds!=null){ds=ds.point;if(ds!=null){if(dx.type=='"dynamic"'&&dx.src){var dg=2880/dx.src.mediaItem.width;var de=2880/dx.src.mediaItem.height;var dC=Math.min(dg,de);dC=Math.min(1,dC);if(this.sm=="aspect"){dA.push("w="+dx.size.point["x"]);dA.push("h="+dx.size.point["y"])}else{dA.push("w="+(ds.x*dC*100)+"%");dA.push("h="+(ds.y*dC*100)+"%")}var dr=Number(1);var dn=Number(1)}else{var dr=Number(ds.x);var dn=Number(ds.y)}if(dr!=0&&dn!=0){this.scaleMode(this.sm||"user",dr,dn)}}}var dw=dx.mediaPosition;if(dw!=null){dw=dw.point;if(dw!=null){if(dx.type=='"dynamic"'&&dx.src){var dz=Number(dw.x);var dy=Number(dw.y);var dk=dz<0?Math.abs(dz):0;var di=dy<0?Math.abs(dy):0;var ds=dx.src;ds=ds.mediaItem;var dm=ds.containerWidth-Math.max(0,dz);var dB=ds.containerHeight-Math.max(0,dy);if(dm!=-1&&dB!=-1){dA.push("crop="+dk+","+di+","+dm+","+dB)}var df=dz<0?0:dz;var dd=dy<0?0:dy;this.offset(df,dd)}else{this.offset(Number(dw.x),Number(dw.y))}}}var dq=dh.resolveTokenString(aF.json(dx.userDIParams));var dl=dh.resolveTokenString("{{globalDIParams}}");if(dq&&dq!=""){dA.push(dq)}if(dl&&dl!=""){dA.push(decodeURIComponent(dl))}var ds=dx.src;if(ds){ds=ds.mediaItem;if(ds){if(dx.type=='"dynamic"'){ds.src=ds.src.split("?")[0];ds.src+="?"+dA.join("&");this.load(ds.src,aF.getBase(dx))}else{this.load(ds.src,aF.getBase(dx))}}}var dp=this;var dt=dx.link;if(dx.action&&dx.action.action&&dx.action.action.type!="null"){this.action=aF.tempAction(dx,false,dx,"action",true);this._img.css("cursor","pointer");this.bind("click",dp.activate,null,true);aF.getTimeline(dx).pauseOnHover(this,this)}else{if(dt!=null&&(dt=dt.link)){var dh=aF.getPlayer(dx);dt.href=dh.resolveTokenString(dt.href);var dv=new aF.action();dv.type("link");var du=aF.getPlayer(dx);if(du){dv.player=du;dv.root=du;if(dv.h){dv.h.player=du;dv.h.root=du;dv.h.link=dt}}this.action=dv;this._img.css("cursor","pointer");this.bind("click",dp.activate,null,true);aF.getTimeline(dx).pauseOnHover(this,this)}}if(dj){dj(dx)}},activate:function(d){d.preventDefault();this.action.activate({scope:this,event:"click",parent:this.parentNode,productScope:null})},load:function(d,dd){if(!d){return}d=aF.absolute(d,dd);this._iw=this._ih=null;this._img.css("display","inherit");if(this._visible){this.visible=this._visible}this._vis=this.visible();this.visible(false);this._url=d;this._visible=this.visible;this.visible=this.tempVisible;this.li++;aF.loadImg(d,this.initScale(this.li),this,this)},tempVisible:function(d){this._vis=d},initScale:function(d){return aF.closure(function(de,dd){aF.loading(this,false);if(this.li!=d){return}if(de){this._img.attr("src",this._url)}else{this._img.attr("src","")}this._iw=dd.width;this._ih=dd.height;this.visible=this._visible;this._visible=null;this.applyScale();if(this.visible){this.visible(this._vis)}aF.loading(this,false)},this)},offset:function(d,dd){this.hasOffset=d!==null||dd!==null;this._offsetX=d;this._offsetY=dd;this.applyScale()},applyScale:function(){if(!this._iw||!this.sm||this._img==null){return}var d=this._iw;var df=this._ih;switch(this.sm){case"user":this._img.css("width",(d*this.scx)+"px");this._img.css("height",(df*this.scy)+"px");this._img.css("left",this._offsetX+"px");this._img.css("top",this._offsetY+"px");break;case"aspect":var de=0;if(this._w<this._h){de=this._w/d;if(df*de>this._h){de=this._h/df}}else{de=this._h/df;if(d*de>this._w){de=this._w/d}}this._img.css("width",(de*d)+"px");this._img.css("height",(de*df)+"px");var dd=0;var dg=0;if(this.hasOffset){dd=this._offsetX;dg=this._offsetY}else{if(this.center){dd=Math.round(((this._w-(de*d))/2));dg=Math.round(((this._h-(de*df))/2))}}this._img.css("left",dd+"px");this._img.css("top",dg+"px");break;default:this.css("backgroundSize","auto");break}},scaleMode:function(dd,d,de){this.sm=dd;this.scx=d;this.scy=de;this.applyScale()},reset:function(){this.scx=1;this.scy=1;this.offset(0,0);this._url=null;if(this._img){this.removeChild(this._img);var d=this._img=aF.create("img");d.css("position","absolute");d.css("display","none");this.addChild(d)}},clip:function(d,de,dd){dd(d,de);this._w=d;this._h=de;this.applyScale()}},aF.newDisplay,[aF.m.sizeableClip]);aF.link=function(d,dd){return{href:d,target:dd||"_self"}};aF.linkPROTO=["goto"];aF.gotoLink=function(di,dd,dg,df){if(di){var d=di.href;if(d){d=dg.resolveTokenString(di.href)}var dh=aF.getProtocol(d).toLowerCase();if(aF.linkPROTO.indexOf(dh)!=-1&&df){aF.bubble(df,"tc_link",[di]);return}var de=0;if(dg){aF.track(dg,"LS",dd,null,d);de=500}setTimeout(function(){window.open(d,di.target||"_self")},de)}};aF.tempAction=function(dd,df,dl,d,dk){var di=dd.action;var dg=dl.action;if(dg&&(dg=dg.action)){di=dg.type||di}var de=new aF.action();de.type(di);var dj=aF.getPlayer(dl);if(dj){de.player=dj;de.root=dj;if(de.h){de.h.player=dj;de.h.root=dj}}if(dd.action=="link"&&!dk){dl.link={player:dj,action:de.h.link}}if(de.h&&dd.action=="pop"&&dd.panelType){de.h.pt=dd.panelType}de.dataDriven(df);var dh=dl[d];if(dh){dh.player=dj;de.parse(dh)}return de};aF.action=aF.clazz({create:function(){this._data=false},dataDriven:function(d){if(arguments.length){this._data=d}return this._data},type:function(d){if(arguments.length){this._type=d;var dd=this.h;if(dd){dd.deactivate();this.handler=null}this.h=aF.createExtension("ITCActionHandler",{type:d})}return this._type},activate:function(d){if(aF.blockAction){return}this.ctx=d;if(this.h){this.a=true;this.h.activate(this,d);if(this.a){aF.tcTrigger(this,"on",d)}}},deactivate:function(){if(this.h){this.a=false;this.h.deactivate(this);this.ctx=null;aF.tcTrigger(this,"off",this.ctx)}},parse:function(d){if(this.h){this.h.player=aF.getPlayer(d);this.h.root=aF.getPlayer(d);if(d.action){this.h.parse(d.action)}}}});var aI=aF.clazz({interfaces:["ITCActionHandler"],parse:function(d){this.root=aF.getPlayer(d);this.link=d.link},activate:function(dd,d){if(this.link){aF.gotoLink(this.link,d.scope,this.root,this)}},deactivate:function(){}});aF.registerExtension({clazz:aI,metaData:{type:"link"}});var bo=aF.clazz({interfaces:["ITCActionHandler"],dataDriven:function(){var dd=this.root;if(dd){var d=this.pt||"product";var de=dd.panelSet.createPanelByType(d);if(de){return de.c.type=="data"}}return false},parse:function(d){this.config=d;this.root=aF.getPlayer(d);if(d.showPanel){if(d.showPanel.sku){this.sku=d.showPanel.nodeText("sku")}this.panelData=d.showPanel.panelData||d.showPanel[0];this.pt=d.showPanel.nodeText("panel")}},activate:function(dg,dm){var dh=this.pt||"product";var dj=this.root;if(!dj){return}var de=dg.params;if(dj._openPanel!=null){var df=dj._openPH==this;if(df){if(de&&de.isToggle){if(dj._openPanel.close){dj._openPanel.hide();dj._openPanel=null;dj._openPH=null;if(dg){dg.deactivate()}}return}else{return}}else{if(dj._openPanel.close){dj._openPanel.hide();dj._openPanel=null;dj._openPH=null;if(dg){dg.deactivate()}}}}var dd=dj.panelSet.createPanelByType(dh);dg.panel=dd;var d=null;var di=true;var dl=dh;if(dd.c.type=="data"){if(!this.sku){}else{d='"'+this.sku+'"';dl=this.sku.split('"').join("")+"|"+dl}}else{di=true}if(di){dj._openPanel=dd;dj._openPH=this;var dk={};if(dm.parent!=null){dk.metaName=dm.parent.metaName}if(dk.metaName==null){dk.metaName="Carousel"}if(dd.close){aF.hideElements(dd)}aF.track(dj,"PO",dm.scope,dk,dl);if(this.panelData){aF._el(dd,this.panelData)}dd.show(dm.event,dm.scope,d,dm.scope,this.panelData,function(){dg.deactivate()})}},deactivate:function(d){if(d.panel){d.panel.doHide()}}});aF.registerExtension({clazz:bo,metaData:{type:"pop"}});var c0=aF.clazz({interfaces:["ITCActionHandler"],parse:function(d){this.root=aF.getPlayer(d);d=d.extAction;if(d){this.data=d.data}},activate:function(de,d){var dd=this.data;if(!dd){dd=d.productScope}var dh={sku:dd,SSID:this.root._track.SSID};if(d&&d.scope){dh.target=d.scope;aF.bubble(d.scope,"tc_context",[dh])}if(dh.sku&&!dd){dd=dh.sku}try{dd=this.root.resolveTokenString(dd)}catch(dg){}var df={};if(d.parent!=null){df.metaName=d.parent.metaName}else{df.metaName="Carousel"}aF.track(this.root,"CA",d.scope,df,dd);try{window.tencmsInvokeAction(dd,this.root.playerID,dh)}catch(dg){}},deactivate:function(){}});aF.registerExtension({clazz:c0,metaData:{type:"action"}});var bO=aF.clazz({interfaces:["ITCActionHandler"],parse:function(d){this.root=aF.getPlayer(d);this.module=d.lightbox.module;this.openClose=d.lightbox.openClose;this.vars=d.lightbox.vars;this.sku=d.lightbox.sku},activate:function(de,d){if(this.openClose==1){var dd={sku:d.productScope};if(d&&d.scope){aF.bubble(d.scope,"tc_context",[dd])}if(this.sku&&this.sku!=""){dd.sku=this.sku}var dg=(this.vars!="")?this.vars.split("&").reduce(function(dh,dj){var di=dj.split("=");dh[di[0]]=di[1];return dh},{}):{};if(dd.sku&&dd.sku!=""){dg.sku=dd.sku}try{this.root.carousel.triggerPause(true);interact.lb(this.module,dg,(function(dh){return function(){dh.carousel.triggerPause(false)}})(this.root),this.root.playerID)}catch(df){}aF.track(this.root,"LO",d.scope,this.vars,d.event)}else{if(interact.lightbox){interact.lightbox.remove()}}},deactivate:function(){}});aF.registerExtension({clazz:bO,metaData:{type:"lightbox"}});var ab=aF.clazz({interfaces:["ITCActionHandler"],parse:function(d){this.root=aF.getPlayer(d);d=d.api;if(d){this.cp=d.comp;this.tp=d.type;this.vl=d.value}},activate:function(de,d){var dd=this.cp;if(!dd){return}var df={};if(d.parent!=null){df.metaName=d.parent.metaName}else{df.metaName="Carousel"}aF.track(this.root,"NAV",d.scope,df,this.tp);this.root.api.invokeOn(dd,this.tp,this.vl)},deactivate:function(){}});aF.registerExtension({clazz:ab,metaData:{type:"api"}});aF.button=aF.clazz({create:function(d,dd,df){d=d||"";this._src=aF.absolute(d,dd);this.init=df;this.e=true;aF.load(this._src,this.load,{type:"img"},this);var de=this.stateWrap(1);this.bind(aF.evt.mouseover,de);this.bind(aF.evt.mouseout,this.stateWrap(0));this.bind(aF.evt.mousedown,this.stateWrap(2));if(aF.isTouch){this.bind(aF.evt.mouseup,this.stateWrap(0))}else{this.bind(aF.evt.mouseup,de)}this.css("cursor","pointer")},metaName:"Button",click:function(dd,d){d=d||this;if(aF.isTouch){this.bind(aF.evt.mousedown,dd,d)}else{this.bind("click",dd,d)}},hover:function(dd,d){this.bind("mouseover",dd,d)},stateWrap:function(d){return function(){if(this.e){this.state(d)}}},load:function(dd,d){this._w=d.width;this._h=d.height/4;this.loaded=true;this.clip(this._w,this._h);if(this._src){this.css("backgroundImage","url("+this._src.split(" ").join("%20")+")")}this.state(this._state||0);if(this.init){this.init(this)}},toggle:function(d){this._t=d;this.state(this._state)},select:function(d){this.e=!d;this.state(d?2:0)},state:function(d){this._state=d;if(!this.loaded){return}if(this._t){if(d>1){d-=2}d+=2}this.css("backgroundPosition","0px "+(d*-this._h)+"px")},enabled:function(d){if(d==this.e){return}this.e=d;this.state(d?0:3);this.css("cursor",d?"pointer":"default")},reset:function(){this.action=null}},aF.newDisplay);aF.repeater=aF.clazz({create:function(){this.items=[];this.index=-1;this.end=0},init:function(d,dd){this.config=d;if(dd){this.target=aF.newDisplay();this.addChild(this.target)}else{this.target=this}},parse:function(de,dd){if(dd){dd(de)}if(!de.repeating){return}this.setItems(de.repeating);this.index=-1},setItems:function(dd){this.clear();var d=this;for(var df=0;df<dd.length;df++){var dg=dd[df];var de=this.config.create(dg,this,this.target,df,function(dh){d.items.push(dh)})}this.layout(this.items);this.end=this.items.length-1},newItem:function(){var d=this.config.create({},this,this.target);this.items.push(d);this.end=this.items.length-1;return d},selectItem:function(d){var dd=this.items.indexOf(d);if(dd!=-1){this.select(dd)}},selected:function(){return this.items[this.index]},select:function(de,d,dg,df,dh,dd){if(de==this.index){return}if(aF.scrollAnimWait){return}if(d||(de>=0&&de<this.items.length)){var dj=this.index;if(de<0){de=this.end}else{if(de>this.end){de=0}}var di=this.items[dj];this._selectedItem=this.items[de];this.index=de;this.change(dj,de,dg,df,dd);if(di!=null&&di.setFocus&&this.allowFocus!=false){di.setFocus(di,false,dh)}di=this.items[de];if(di!=null&&di.setFocus&&this.allowFocus!=false){di.setFocus(di,true,dh)}}},change:function(dd,d){},layout:function(){},clear:function(){var d=this.items.length;for(var dd=0;dd<d;dd++){var de=this.items[dd];this.removeChild(de)}this.items.splice(0,d)}},aF.newDisplay);aF.defaultFonts="Helvetica,Arial,sans-serif";function ck(dl,dh,de,df,dd){if(de.action&&de.action.action){dh=de.action.action.nodeText("type")}switch(dh){case"pop":var d=null;if(de.nodeText("actionData")){if(dd.proxyData){d=dd.proxyData.imapp}var di={panelData:d,panel:df};var dg=de.nodeText("actionData");if(dg&&dg!=""){di.sku=aF.json(dg)}de.action=dl.importNode({action:{showPanel:di,type:dh}})}else{var di;var dj=de.action;if(dj&&dj.action){dj=dj.action;if(dj.showPanel){if(dj.showPanel.imapp){d=dj.showPanel.imapp}if(dj.showPanel.panel){df=dj.showPanel.panel}di={panelData:d,panel:df,sku:dj.showPanel.sku}}}else{if(dd.proxyData){d=dd.proxyData.imapp}di={panelData:d,panel:df}}de.action=dl.importNode({action:{showPanel:di,type:dh}})}break;case"link":if(de.actionData){de.action=dl.importNode({action:de.actionData})}break;case"action":if(de.nodeText("actionData")){var dk=de.nodeText("actionData");if(dk&&dk.indexOf('"')==0){dk=aF.json(dk)}de.action=dl.importNode({action:{extAction:{data:dk,type:dh}}})}break}}aF.legacyContent=function(d,du){if(!du){return}if(d.legacyParsed==true){return}for(var dp=0;dp<d.length;dp++){var dn=d[dp];switch(dn._name){case"hotspot":var dv=du.hotspots;if(dv&&dv.enabled){var dd=aF.json(dn.nodeText("hotspotType"));if(dn.action&&dn.action.action){if(dn.action.action.type){if(dn.action.action.type=="pop"){if(dn.action.action.showPanel){ck(d,"pop",dn,dn.action.action.showPanel.panel,dn)}break}}}for(var dk=0;dk<dv.length;dk++){var dq=dv[dk];if(dq.id==dd){ck(d,dq.action,dn,dq.panelType,dn);break}}}break;case"tc:shapes":ck(d,null,dn,null,dn);break;case"tc:poly":var ds=du.polygons;if(ds&&ds.enabled){ck(d,du.polygons.action,dn,"product",dn)}break;case"tc:imapp":if(dn._parent._name!="tc:proxyData"){if(dn._parent._name!="tc:repeating"){if(dn._parent._parent._name!="tc:slider"){continue}}}var de="product";var dj=dn._parent._parent;if(dj&&dj._name=="hotspot"){var dv=du.hotspots;if(dv){var dd=aF.json(dj.nodeText("hotspotType"));for(var dk=0;dk<dv.length;dk++){var dq=dv[dk];if(dq.id==dd){de=dq.panelType;break}}}}var df=du.panels;for(dk=0;dk<df.length;dk++){var dl=df[dk];if(dl.panelType==de){for(dk=0;dk<dl.length;dk++){var dw=dl[dk];if(dw._name!="element"||!dw.action){continue}for(var dm=0;dm<dn.length;dm++){if(dn[dm].id==dw.id){ck(d,dw.action,dn[dm],"product",dn);break}}}break}}break;case"tc:IMAprodGrpItem":var dr=du.groupedElements;if(dr&&dr.enabled){for(dk=0;dk<dr.length;dk++){var dt=dr[dk];if(dt._name!="element"||!dt.action){continue}for(var dm=0;dm<dn.length;dm++){if(dn[dm].id==dt.id){ck(d,dt.action,dn[dm],"product",dn);break}}}}break;case"tc:video":if(!dn.videoData){var dh=dn.nodeText("videoHTML5URL");var dg=dn.nodeText("secondaryHTML5URL");var di={type:"tc"};if(dh){dh=aF.json(dh).split("|");di.html5Url='"'+dh[0].split('"').join('\\"')+'"';di.html5codec='"'+(dh[1]||"other").split('"').join('\\"')+'"'}if(dg){dg=aF.json(dg).split("|");di.html5Url2='"'+dg[0].split('"').join('\\"')+'"';di.html52codec='"'+(dg[1]||"other").split('"').join('\\"')+'"'}if(dn.videoImage){di.bgImage=dn.videoImage}dn.videoData=d.importNode({videoData:di})}break}aF.legacyContent(dn,du)}d.legacyParsed=true};if(!window.TC_LINK_SC){window.TC_LINK_SC=1}aF.player=aF.clazz({isPLY:true,tc_context:function(d){var dd=this.content;d.module={MID:dd.moduleId,VID:dd.versionNo,ACID:dd.accountId,AID:this.playerID,ENV:dd.enviroment}},getVar:function(dg,dd){if(dd&&dd[dg]){return dd[dg]}if(this._vars&&this._vars[dg]){return this._vars[dg]}if(this.TOKENS[dg]){var de=dg.split(".");if(de&&de.length==2){var d=aF.byName(this,de[0]);if(d){var df=d[de[1]];if(df){if(typeof(df)=="function"){return df()}else{return df}}}}}return null},setVar:function(dh,df,de){if(de){de[dh]=df}if(this._vars){this._vars[dh]=df}var dg=this.TOKENS[dh];if(dg==null){return}for(var dd=0;dd<dg.length;dd++){var d=dg[dd];if(d!=null){d()}}},fgzip:function(d){if(this.ngz){var dd=d.lastIndexOf(".");if(dd!=-1){return d.slice(0,dd)+".ngz"+d.slice(dd)}}return d},resolveTokenString:function(dh,d,dd){var dg=0;if(!dh||dh==""){return dh}while((dg=dh.indexOf("{{",dg))!=-1){var dj=dh.indexOf("}}",dg);if(dj==-1){break}var df=dh.slice(dg+2,dj);var di="";if(df.indexOf("=")!=-1){var de=df.split("=");df=de[0];di=de[1]}if(this.TOKENS[df]==null){if(dd!=null){this.TOKENS[df]=[dd]}}else{if(dd!=null){if(this.TOKENS[df].indexOf(dd)==-1){this.TOKENS[df].push(dd)}}}var dk=this.getVar(df,d);if(dk==null){dk=di}dh=dh.slice(0,dg)+dk+dh.slice(dj+2);dg+=dk.length}return dh},invalidateTokens:function(de){if(de!=null){var dd=this.TOKENS[de];aF.forEach(dd,function(df){if(df){df()}})}else{for(var d in this.TOKENS){var dd=this.TOKENS[d];aF.forEach(dd,function(df){if(df){df()}})}}},init:function(dd,de,df,dn,dl,dm){var dq=this;this._lct={pls:-1,ns:0,sq:{}};this.TOKENS={};dq.ngz=dm.ngz?".ngz":"";dq.playerID=dd;dq.metaName="Player";dq._vars=dm;dq.BDL={};dq.BDCB={};this.api=new aF.api(this);aF.initText(dq);dq.destroyers=[];if(de!=null){dq.basePath=aF.decodeBasePath(de)}if(dl===undefined){dl=true}dq.allowCSS=dl;dq.loaderEvent(true,dq);aF.trackGlobal(dq,"AID",dd);var di={areaGUID:"AID"};if(dm.context){dm.context=unescape(dm.context)}if(dm.context){var dk=aF.json(dm.context);for(var dh in dk){var dj=dh;if(di[dh]){dj=di[dh]}aF.trackGlobal(dq,dj,dk[dh])}}var dp=window.tencmsAppStarted;if(dp){dp(dd)}var dg=function(){var ds=dq.fgzip(dd+".xml");if(df!=null){ds=df}if(dn!="true"&&dn!=true){var dr=new Date().getTime();ds+="?c="+(dr-(dr%60000))}aF.load(ds,dq.setContent,{base:dq.basePath},dq)};var d=window.interact;if(d&&d.getJSON&&dm.jsonp!=="false"){d.getJSON(dd,function(dr){if(!dr){dg()}else{dq.setContent(true,dr)}})}else{dg()}},setContent:function(dl,dz){if(!dl){return}var dw=this.content=aF.xParseObj(dz);var df=this.getVar("context");if(df){df=aF.json(df);for(var dt in df){dw[dt]=df[dt]}}dw._player=this;this.region=dw.region;this.GV=new aF.globalvars();this.GV.create(this);this.GV.parse(dw);if(aF.timeline){this._tl=new aF.timeline()}if(!dw.ima||!dw.ima.files){return}function dp(dA){if(!dA){dA=5}var dD="";var dB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var dC=0;dC<dA;dC++){dD+=dB.charAt(Math.floor(Math.random()*dB.length))}return dD}aF.trackGlobal(this,"SSID",(new Date().getTime().toString())+"_"+dp());aF.trackGlobal(this,"MID",dw.moduleId);aF.trackGlobal(this,"VID",dw.versionNo);aF.trackGlobal(this,"ACID",dw.accountId);aF.trackGlobal(this,"ENV",dw.enviroment);aF.trackGlobal(this,"C",1);this.plugins=[];var dn=dw.ima.plugins;var dh=this.basePath;var ds=[];if(!dn){dn=[{jspath:"plugins/tc.video_v1.js",uuid:"d73ae448-5756-469a-b33e-6192fd4c780d"}]}if(dn){if(dn.base&&dn.base!=""){dh=aF.decodeBasePath(dn.base)}for(var dt=0;dt<dn.length;dt++){var dg=dn[dt];if(!dg.jspath){continue}dg.jspath=this.fgzip(dg.jspath);this.plugins.push(dg.uuid);if(dg.files){var dy=dg.files;for(var dk=0;dk<dy.length;dk++){aF.setGlobalFlag(dy[dk].id,aF.absolute(dy[dk].src,dh))}}ds.push(dg)}}var di=[];if(dn){this.loadedPlugins=dn.length==0}else{this.loadedPlugins=true}var d=this;var dr=[];var dd=[];function de(){for(var dC=0;dC<dr.length;dC++){var dE=dr[dC];for(var dA=0;dA<dE.dependencies.length;dA++){var dD=dE.dependencies[dA];var dB=true;if(dd.indexOf(dD.uuid)==-1){dB=false;break}if(dB){dq(dE);dr.splice(dC,1);dC--}}}}function dq(dC){var dA=aF.absolute(dC.jspath,dh);var dB=aF.create("script");dB.attr("type","text/javascript");di.push(dB);dB.onreadystatechange=function(){if(this.readyState=="complete"){var dD=di.indexOf(this);if(dD!=-1){di.splice(dD,1);dd.push(dC.uuid);de();if(di.length==0){d.loadedPlugins=true;d.checkLoad()}}}};dB.onload=function(){var dD=di.indexOf(this);if(dD!=-1){dd.push(dC.uuid);di.splice(dD,1);de();if(di.length==0){d.loadedPlugins=true;d.checkLoad()}}};dB.attr("src",dA);document.getElementsByTagName("head")[0].appendChild(dB)}for(dt=0;dt<ds.length;dt++){var dg=ds[dt];if(dg.dependencies){dr.push(dg);continue}dq(dg)}var dj=[];var du=dw.ima.files;for(dt=0;dt<du.length;dt++){var dv=du[dt];var dm=dv.src;switch(dv.type){case"style":case"config":dm=this.fgzip(dm);break}var dx={url:dm,id:dv.type,base:this.basePath,data:dv[0]};if(dv.type=="button"){dx.type="img"}dj.push(dx)}aF.batchLoad(dj,this.setFiles,this,this)},initStyle:function(dd){var de={};var dg={};var di={};var df={};for(var dn=0;dn<dd.Fonts.length;dn++){var dq=dd.Fonts[dn];var dh=dq.internalName;var dk=dh.split(",");aF.forEach(dk,function(dw,dv){dw=dw.split('"').join("");if(dw[0]!='"'&&dw[0]!="'"){dw="'"+dw+"'"}dk[dv]=dw});dh=dk.join(",");dq.name=dh+","+aF.defaultFonts;dg[dq.fontId]=dq}for(var dn=0;dn<dd.ColourSchemes.length;dn++){var dr=dd.ColourSchemes[dn];di[dr.id]=dr.colour;if(dr.isDefault){di._default=dr.colour}}if(dd.TextAlignments){for(var dn=0;dn<dd.TextAlignments.length;dn++){var ds=dd.TextAlignments[dn];df[ds.id]=ds.name;if(ds.isDefault){df._default=ds.name}}}for(var dn=0;dn<dd.TextStyles.length;dn++){var dj=dd.TextStyles[dn];if(dj.isDefault){de._default=dj}dj.lineHeight=function(){if(!this._lh){var dv=aF.newText();dv.text("W");dv.fontStyle(this);this._lh=dv.offsetHeight}return this._lh};var dp=dj.HyperLink;if(dp){dj.linkClass="TCLink_"+window.TC_LINK_SC;window.TC_LINK_SC++;function dt(dw){if(!dw){return}var dv="";dv+="color: "+dw.color+" !important; ";if(dw.underline){dv+="text-decoration:underline !important;"}else{dv+="text-decoration:none !important;"}dv+="";return dv}var d="";var du=dp.Normal;if(du){du.color=di[du.colourSchemeId||"_default"];aF.globalCSS("a."+dj.linkClass+":link",dt(du))}var dl=dp.Visited;if(dl){dl.color=di[dl.colourSchemeId||"_default"];aF.globalCSS("a."+dj.linkClass+":visited",dt(dl))}var dm=dp.Over;if(dm){dm.color=di[dm.colourSchemeId||"_default"];aF.globalCSS("a."+dj.linkClass+":hover",dt(dm))}}dj.color=di[dj.colourSchemeId||"_default"];dj.font=dg[dj.fontid||"0"];dj.size+="px";de[dj.id]=dj;de[dj.name]=dj}this._ts=de;this._cs=di;this._al=df},initTemplate:function(){},setFiles:function(dm,dg){if(!dm){}var dl=this;dl.config=aF.xParseObj(dg.config);dl._styles=aF.xParseObj(dg.style);aF.legacyContent(dl.content,dl.config);dl.config._player=dl;dl._styles._player=dl;if(dg.cachedData!=null){dl.cachedData=dg.cachedData}var dd=[];var dj=dl.config.Files;if(dj){for(var dh=0;dh<dj.length;dh++){var de=dj[dh];if(de.type=="button"){var di={url:de.src,id:"tf"+dh,base:dl.basePath,type:"img"};dd.push(di)}}}dl.tfCount=1;dl.tfActu=0;var df=this.getVar("manualCSS")!=true;var dk=dl._styles.Files;if(dk!=null&&this.allowCSS){for(var dh=0;dh<dk.length;dh++){var de=dk[dh];if(de.type=="css"&&df){var d=de.src;d=d.split(":{regionCode}:").join(dl.region);dl.cssSrc=aF.absolute(d,dl.basePath);aF.loadCSS(dl.cssSrc);break}}}aF.batchLoad(dd,this.onFilesLoaded,this,this);aF.track(this,"MV",this,this)},onFilesLoaded:function(d){this.tfActu++;this.filesLoaded=this.tfActu==this.tfCount;this.checkLoad()},checkLoad:function(){if(!this.loadedPlugins||!this.filesLoaded){return}this.checkLoad=function(){};this.loadComplete()},loaderEvent:function(d){},loadComplete:function(){aF.addLoader(this,this.loaderEvent,this,true);this.bg=new aF.media("bg");this.bg.metaName="Media";this.bg.size(this._w,this._h);this.addChild(this.bg);this.initStyle(this._styles);this.initTemplate(this.config);this.data=new aF.data(this.content.ima.dataSource,this);var d=this.content.ima.dataSource;if(d){var dj=d.provider;if(dj==null||dj=="tencms"){var dg=new aF.standardData();this.data.setProvider(dg)}else{var di=aF.createExtension("ITCProductFactory",{id:dj},this);if(di){this.data.setProvider(di)}}}if(this.cachedData){if(this.data){var dl=this.data.prov.parseProducts(aF.xParseObj(this.cachedData).feed,this);this.data.setProducts(dl)}}if(this.content.mediaArea){aF._el(this.bg,this.content.mediaArea)}aF._el(this,this.content);this.bg.visible(true);this.loaderEvent(false,this);var dk=this.getVar("deepLinking");var de=this.getVar("deepLink");if(de){de=aF.json(de);for(var df in de){var dh=aF.byName(this,df);if(dh){var dd=de[df];aF.gotoLink({href:dd},dh,this,dh)}}}},styles:function(){return this._styles},textStyle:function(dd){var d=this._ts[dd];if(d){return d}return this._ts._default},color:function(d){return this._cs[d]},alignment:function(dd){var d=this._al[dd];if(!d||d==""){d="Left"}return d},temp:function(){return this.config},feature:function(dd){if(this.config!=null){var d=this.config[dd];if(d!=null){if(d.enabled||dd=="carousel"||dd=="sliders"||dd=="panels"||dd=="freeVideo"){return d}}}return null},registerDestroyer:function(d){this.destroyers.push(d)},destroy:function(){for(var dd in this.destroyers){this.destroyers[dd]()}}},aF.scene,[aF.m.elementCtnr]);aF.setBindable=function(dg,dd,df){var dh=dg.BDL;var d=dg.BDCB[dd];dh[dd]=df;if(d){for(var de=0;de<d.length;de++){if(d[de]){d[de](df)}}}};aF.setPausable=function(dd,de,d){dd.PBL=dd.PBL||[];dd.PBL.push({id:de,el:d})};aF.getPausable=function(dd,d){if(d==null){return dd.PBL}else{return null}};aF.byName=function(df,dd,di,de){var dg=df.BDL;var dh=df.BDCB;if(!dh[dd]){dh[dd]=[]}if(de){di=aF.closure(di,de)}dh[dd].push(di);var d=dg[dd];if(dd=="Carousel"){d=df.carousel}if(d&&di){di(d)}return d};aF.getPlayer=function(d){if(d){if(d.isPLY){return d}if(d.player){return d.player}return d.root._player}return null};aF.tcBind=function(dg,de,d,dd){if(dd){d=aF.closure(d,dd)}var df=dg.events=dg.events||{};if(!df[de]){df[de]=[]}df[de].push(d)};aF.unBind=function(di,df,d,de){if(de){d=aF.closure(d,de)}var dg=di.events;if(dg){var dd=dg[df];if(dd){var dh=dd.indexOf(d);if(dh!=-1){dd.splice(dh,1)}}}};aF.tcTrigger=function(di,de,dh){var dg=di.events;if(dg){var dd=dg[de];if(dd){for(var df=0;df<dd.length;df++){var d=dd[df];d(dh)}}}};aF.getBase=function(d){var dd=aF.getPlayer(d);if(dd){return dd.basePath}return null};aF.getData=function(d){var dd=aF.getPlayer(d);if(dd){return dd.data}return null};aF.getTimeline=function(d){var dd=aF.getPlayer(d);if(dd){return dd._tl}return null};var M={};aF.setGlobalFlag=function(dd,d){M[dd]=d};aF.getGlobalFlag=function(dd,d){return M[dd]||d};aF.m.draggable={parse:function(dg,df){var de=dg.position;if(de){de=de.point;if(de){this._x(Number(de.x));this._y(Number(de.y))}}var dd=dg.size||dg.textSize;if(dd&&dd.point){dd=dd.point;if(dd){this.clip(Number(dd.x),Number(dd.y))}}else{if(this._w==null){this.clip(100,100)}}if(df){df(dg)}}};aF._el=function(dd,d){if(d._tid){dd._tid=aF.json(d.nodeText("_tid"))}dd.parse(d)};aF.api=aF.clazz({create:function(d){if(!d){return}this.player=d;d.invokeOn=this.invokeOn;d.getOn=this.getOn;d.setOn=this.setOn},getVar:function(dd){var d=this.player;return d.getVar(dd,d)},setVar:function(de,d){var dd=this.player;return dd.setVar(de,d,dd)},invokeOn:function(dd,de,df){var d=aF.byName(this.player,dd);if(d){d[de](df)}},getOn:function(){},setOn:function(){},lastPlayingVideo:null,playModule:function(){var d=aF.getPausable(this.player,null);for(var dd=0;dd<d.length;dd++){if(d[dd].el.id!=="vid"){d[dd].el.play()}}if(this.lastPlayingVideo){this.lastPlayingVideo.play()}},pauseModule:function(){var d=aF.getPausable(this.player,null);for(var de=0;de<d.length;de++){var dd=d[de].el;if(dd.id==="vid"){if(dd.state===3){this.lastPlayingVideo=dd}dd.pause()}else{dd.pause()}}}});aF.globalvars=aF.clazz({create:function(d){if(!d){return}this.player=d;this.GVS=[]},parse:function(dg,df){if(dg){var de=dg.g;if(de){for(var dd=0;dd<de.length;dd++){this.GVS.push(de[dd])}}}},getByID:function(d){for(var dd=0;dd<this.GVS.length;dd++){var de=this.GVS[dd];if(de.id==d){return de}}return},getByType:function(dd){for(var d=0;d<this.GVS.length;d++){var de=this.GVS[d];if(de.type==dd){return de}}return}});var cj={l:"level",n:"name",e:"exclude",t:"type"};var cf=["name","level","id","exclude","type","breakAfter"];aF.module=aF.clazz({parse:function(de){this.uuid=de.uuid;this.src=de.src;this.width=de.width;this.height=de.height;this.xp={};var df=this.xChildren=[];for(var d=0;d<de.length;d++){var dd=de[d];switch(dd._name){case"tc:xpath":this.xp[dd.id]=dd;break;default:df.push(dd);break}}},getXParam:function(d){return this.xp[d]}});var cv=aF.taxItem=aF.clazz({parse:function(di){var dn=this.v={};for(var dh in cj){if(di[dh]){di[cj[dh]]=di[dh]}}for(var dh in cf){var dl=cf[dh];this[dl]=di[dl]}var dj=null;var dd=0;if(di.empty!=true){dd=1;dj=di[0]}for(dh=dd;dh<di.length;dh++){var df=di[dh];var de=df._name;var dm=df[0];dn[de]=dm}if(dj){if(dj._name=="tc:module"){var dg=aF.module();dg.parse(dj);dj=dg;var dk=this.children=[];var dp=dg.xChildren;for(dh=0;dh<dp.length;dh++){var d=cv();d.parse(dp[dh]);d.index=this.index+dh;dk.push(d)}}}this.content=dj},pos:function(d){this.index=d;aF.forEach(this.children,function(de,dd){de.pos(d+dd)})},getVar:function(d){return this.v[d]}});aF.taxonomy=aF.clazz({create:function(){},init:function(d){this.info=d},parse:function(d){d=d.tax;if(d){for(var dd=0;dd<d.length;dd++){var de=new cv();de.parse(d[dd]);this.push(de)}}},resetIndexes:function(){var d=0;for(var dd=0;dd<this.length;dd++){var de=this[dd];de.pos(d);var df=this.info.itemInspector(de);d+=df.count}}},Array);aF.canvas=aF.clazz({create:function(dd){this.ctnr=this;if(this.layer){this.addChild(this.ctnr=aF.newDisplay())}var d=this.p=aF.getPlayer(dd);d.isTweening=false;this.c=dd;this.css("overflow","hidden")},showUI:function(d){var de=this.ctnr.childList();for(var dd=0;dd<de.length;dd++){var df=de[dd];if(df.layer){df.visible(d)}}},animate:function(dm){var dl=this.animations=[];if(this.freeVideo!=null&&this.freeVideo.items.length>0){var d=this.freeVideo.items[0];dl.push(d)}if(this.sliders!=null&&this.sliders.items.length>0){var dd=this.sliders.items[0];if(dd!=null){dl.push(dd)}}var df=this.childList();for(var dh=0;dh<df.length;dh++){var de=df[dh];if(de.pluginHost){var dg=de.items;if(de.children){for(var dj=0;dj<de.children.length;dj++){dg.push(de.children[dj])}}for(var dk=0;dk<dg.length;dk++){var di=dg[dk];if(di.setFocus){dl.push(di)}}}else{if(de.setFocus){dl.push(de)}}}for(var dh=0;dh<dl.length;dh++){if(dl[dh].onTransition){dl[dh].onTransition(dm)}}},parse:function(dm,dd){dd(dm);var ds=[];var dh=(dm._name=="tc:data")?4:2;function dk(d,dt){if(dt>dh){return}if(d.id=="background"||d.id=="bg"){return}if(d._name=="tc:repeating"){aF.forEach(d,function(du){ds.push(du)})}aF.forEach(d,function(du){dk(du,dt+1)})}aF.forEach(dm,function(d){dk(d,0)});aF.forEach(ds,function(dt,d){dm[dm.length+d]=dt});dm.length+=ds.length;var dr=this;var dl=0;aF.forEach(dm,function(dv,du){if(dv.id=="background"||dv.id=="bg"){return}var d=aF.cByNode(dv._name);if(dv._name=="hotspot"&&dm._name=="tc:data"){d=aF.cByNode("datahotspot")}if(!d){return}var dt=d.clazz(dr.p,dr,dl,dv);if(dt.initItem){dt.initItem(dv)}aF._el(dt,dv);dl++;dr.ctnr.addChild(dt)});var dq=this.animations=[];var df=this.childList();for(var di=0;di<df.length;di++){var de=df[di];if(de.pluginHost){var dg=de.items;if(de.children){for(var dn=0;dn<de.children.length;dn++){dg.push(de.children[dn])}}for(var dp=0;dp<dg.length;dp++){var dj=dg[dp];if(dj.setFocus){dq.push(dj)}}}else{if(de.setFocus){dq.push(de)}}}},setFocus:function(d,dd,di){this.selected=dd;this.owner=d;clearTimeout(this.timeout);if(dd){this.firstEnter=true;if(this.parentNode){var dj=this.parentNode.parentNode;if(!dj){return}var dg=dj.autoPlay;if(dg>0){this.startTime=aF.getTimer();var dh=this.moveNext;if(dh){this.timeout=setTimeout(dh,dg);dj.p.registerDestroyer(function(){clearTimeout(this.timeout)})}}}this.animating=[]}if(!this.animations){return}for(var df=0;df<this.animations.length;df++){var de=this.animations[df];if(de.setFocus){if(dd){if(de._autoPlay==true||de._autoPlay==null){this.animating.push(de)}}de.setFocus(this,dd,di)}}if(this.checkSelf){this.checkSelf(this.owner)}},finishAnimate:function(d){var dd=this.animating.indexOf(d);if(dd!=-1){this.animating.splice(dd,1)}if(this.checkSelf){this.checkSelf(this.owner)}}},aF.newDisplay,[aF.m.sizeableClip,aF.m.elementCtnr],true);var aV=aF.create("img");aF.trackGlobal=function(dd,df,de){var d=dd._track=dd._track||{};d[df]=de};aF.trackObj=function(de,df,dd){var d=dd._tid};function aR(dd){var d=dd;while(d!=null&&d.isTC){if(d._tid&&d.isCTNR){return d._tid}d=d.parentNode}return null}aF.track=function(dq,de,dk,dp,dn){var dt=dq._track=dq._track||{};var df=dk?dk._tid:null;var dl=aR(dk?dk.parentNode:dp);if(dk&&dk._isPanel){df=dk._pType+"_"+dk._id;dl=aR(dk.eFrom)}var ds=aF.isClassType(dk,aF.panel);var dj=aF.isClassType(dk,aF.sliderItem);if(de=="SD"){if(!dk){return}if(dk.metaName=="Slider"){if(!dp){return}}}if(dk){if(dk._isPanel){df=dk._pType+"_"+dk._id;dl=aR(dk.eFrom)}if(dk._isSlider){df=aR(dk)+"_"+dk._pType+"_"+dk._ind+"_"+dk._id}}if(dk){var dg=dk.metaName;if(dg=="Next"||dg=="Previous"||dg=="SlideSelector"){dl=dp._tid}}var ds=aF.isClassType(dk,aF.panel);var dj=aF.isClassType(dk,aF.sliderItem);dk=dk?dk.metaName:null;dp=dp?dp.metaName:null;if(dp==null){dp="Carousel"}var dd="Event="+de+"&E="+dk+"&P="+dp+"&";for(var di in dt){dd+=di+"="+dt[di]+"&"}dd+="V="+dn+"&URL="+escape(window.top.location.href)+"&T=H&R="+Math.round(Math.random()*1000);if(df){dd+="&ID="+df+"&PID="+dl}var dr=window.location.protocol||"http:";var d=dr.toLowerCase().indexOf("https")==0?"https://djq2eo393b76f.cloudfront.net":"http://10267.10cms.com";aV.attr("src",d+"/10267.gif?"+dd);try{var dh={accountID:dt.ACID,areaID:dt.AID,container:dt.C.toString(),SSID:dt.SSID,moduleID:dt.MID,versionID:dt.VID,element:dk,parent:dp,eventName:de,value:typeof(dn)==="undefined"?dn:dn.toString(),url:escape(window.top.location.href)};if(df){dh.id=df;dh.pid=dl}window.invokeTenCMSEvent(dh)}catch(dm){}};aF.loaderBar=aF.clazz({create:function(){var de=this.btns=[];this.state=0;for(var dd=0;dd<5;dd++){var d=aF.newDisplay();d.width(5);d.height(5);d.visible(false);d.css("background","#444444");d._x(dd*10);this.addChild(d);de.push(d)}},color:function(dd){for(var d=0;d<5;d++){this.btns[d].css("background",dd);if(dd.toUpperCase()=="#FFFFFF"){this.btns[d].css("border","1px solid #444444")}}},animate:function(d){clearInterval(this.intv);if(d){this.intv=setInterval(aF.closure(this.frame,this),100)}},frame:function(){if(this.state>=5){for(var d=0;d<5;d++){this.btns[d].visible(false)}this.state=0}else{this.btns[this.state].visible(true);this.state++}}},aF.newDisplay);function cz(df,d){var dd=[];var de=false;df.__lList=dd;return function(dh,dg){var di=dd.indexOf(dh);if(dg){if(di==-1){dd.push(dh)}if(!de){d(true,dh,df);de=true}}else{dd.splice(di,1);if(de&&dd.length==0){d(false,dh,df);de=false}}}}aF.numLoaders=function(d){return d.__lList.length};aF.isLoading=function(d){return(d.__lList&&d.__lList.length>0)};aF.addLoader=function(de,d,dd,df){if(dd!=null){d=aF.closure(d,dd)}de._ldrEvent=cz(de,d);if(df){de._ldrEvent=function(dh,dg){d(dg,dh)}}};aF.loading=function(dd,d){if(dd!=null){aF.bubble(dd,"_ldrEvent",[dd,d])}};aF.bubble=function(dg,d,de){var df=dg;while(df!=null&&df.isTC){var dd=df[d];if(dd!=null){if(dd.apply(df,de)){break}}df=df.parentNode}};function b3(dg,dl,dj){var dd=dj._lct;var dh=dd.sq;var dk=dd.ns;if(dg>-1&&dg!=null){dd.pls=dg}else{dd.pls++}if(dd.pls>=dk){var di=true;for(var de=0;de<dk;de++){if(dh[de]&&dh[de].length){dd.pls=de;di=false;break}}if(di){dd.pls=-2;return}}var df=dh[dd.pls];if(!df){if(dl){b3(null,null,dj)}return}dh[dd.pls]=null;for(var de=0;de<df.length;de++){var d=df[de];switch(d.type){case"image":aF.loadImg.apply(null,d.args);break}}}function a5(d,de,df){var dd=df._lct;return function(dg){if(dg==false&&de==dd.pls){d.__fullPL=true;setTimeout(function(){b3(null,true,df)},100)}}}aF.preloadSetSlides=function(df,de){de._lct.ns=df.length;for(var dd=0;dd<df.length;dd++){var d=df[dd];aF.addLoader(d,a5(d,dd,de))}};aF.preloadSetSlide=function(d,dd){b3(d,null,dd)};aF.preloadProxy=function(dj,dh,dk){if(!dk){return true}var d=dk._lct;var dg=d.sq;if(!dj){return true}if(d.pls==-2){return true}var dd=dh[2];if(!dd){return true}var de=dd.__slide||(dd.__slide=aF.findParent(dd,aF.slide));if(!de){return true}var di=de.__index__;if(di!=d.pls&&!de.__fullPL){var df=dg[di]=dg[di]||[];df.push({type:dj,args:dh});return false}return true};aF.timeline=aF.clazz({create:function(){this.pl=[]},pause:function(de,dd){if(!de){return}if(de.__id==null){de.__id=Math.random()}var dg=this.pl.indexOf(de);if(dd){if(de.count==null){de.count=0}de.count++;if(dg!=-1){return}this.pl.push(de);if(de.togglePause){de.togglePause(true)}de.__tlPaused=true;var df=de.parentNode;while(df!=null&&df.isTC){if(!df.__tlList){df.__tlList=[]}var d=df.__tlList;if(d.indexOf(de)==-1){d.push(de);if(d.length==1){if(df.togglePause){df.togglePause(true,this)}}}df=df.parentNode}}else{de.count--;if(de.count<0){de.count=0}if(de.count>0){return}if(dg==-1){return}this.pl.splice(dg,1);de.__tlPaused=false;if(de.togglePause){de.togglePause(false)}var df=de.parentNode;while(df!=null&&df.isTC){var d=df.__tlList;var dg=-1;if(d){dg=d.indexOf(de)}if(dg!=-1){d.splice(dg,1);if(d.length==0){df.__tlPaused=false;if(df.togglePause){df.togglePause(false,this)}}}df=df.parentNode}}},isPaused:function(d){return(d.__tlList!=null&&d.__tlList.length>0)},pauseOnHover:function(d,de){de=de||d;if(d.hoverSetup){return}d.hoverSetup=true;d.count=0;if(!aF.isTouch){var dd=this;d.bind("mouseover",function(){var df=de;if(typeof(df)=="function"){df=df()}if(!df){return}if(d._tlHoverItem!=null){dd.pause(d._tlHoverItem,false)}d._tlHoverItem=df;dd.pause(df,true)});d.bind("mouseout",function(){if(d._tlHoverItem!=null){dd.pause(d._tlHoverItem,false);d._tlHoverItem=null}});d.bind("mouseup",function(){if(d._tlHoverItem!=null){dd.pause(d._tlHoverItem,false);d._tlHoverItem=null}})}}});var bF=["sku","name","description","link"];var aQ=["price","wasPrice"];var K=["sku","name","description","link","price","wasprice","instock","images"];var o="text";var cF="url";var b="plain";var cc="price";var ae="stock";var aW="img";var q="tl";var b9="al";var N="num";var b2="list";var cy="bool";function a2(de,dg,df,dd){var d="";if(!de){return d}if(typeof(de)=="string"){d=de}else{d=de._body}if(!d){return d}if(dg){d=dd.resolveTokenString(d)}return aF.trim(d)}function n(dd,dg,de,d){var df=a2(dd,dg,de,d);return b6(df)}function b6(d){return d!=null?aF.trim(d.replace(/<\/?[^>]+(>|$)/g," ")):""}function aP(de,dd){var d=aF.first(this._content,function(df){return df[de]==dd});if(d){return d._body}}function bM(dd){var df=aF.where(dd,function(dg){return dg._name=="li"});varAtts=[];for(i=0;i<df.length;i++){var de=aF.first(df[i],function(dg){return dg._name=="val"});var d=aF.where(df[i],function(dg){return dg._name=="content"});if(de){de=de._body}varAtts.push({value:de,_content:d,content:aP})}return varAtts}var O={_parseText:function(df,de,dg,dd){var d=n(df,false,dg,dd);return d},_parseCurrency:function(de,dd,df,d,dg){return cM(dd,dg,d?d.getVar("priceSelector"):null)},_parseImg:function(df,de,dg,d){var dd="";if(!df.length){dd=df._body}else{var dh=df["default"];if(dh){dd=df[dh]._body}else{dd=df[0]._body}}df._default=O._parseURL(dd,de,dg,d);return df},_parseBool:function(df,de,dg,dd){var d=n(df,true,dg,dd);if(d=="true"){return true}return false},_parseNumber:function(dg,df,dh,de){var d=n(dg,true,dh,de);var dd=Number(d);if(isNaN(dd)){return -1}return dd},_parseStock:function(df,de,dg,dd){var d=n(df,true,dg,dd);if(d==""||d=="true"){return true}return false},_parseURL:function(dg,df,dh,dd){var d=unescape(n(dg,false,dh,dd));if(dd){var de=dd.getVar("resolveJSPath");if(de){if(de==true||de=="true"){d=aF.absolute(d,null)}}}return d},_parsePlain:function(de,dd,df,d){return a2(de,false,df,d)},_parseTL:function(di,dj,d,dk){var df=di._name+".";var dg=aF.first(di,function(dn){return dn._name=="link"});var dm={};if(dg){var dh=O._parseURL(dg,dj,d,dk);d.vars(df+"link",dh);d[df+"link"]=dh;dm.link=dh}var de=aF.first(di,function(dn){return dn._name=="text"});if(de){var dd=O._parseText(de,dj,d,dk);d.vars(df+"text",dd);d[df+"text"]=dd;dm.text=dd}var dl=aF.first(di,function(dn){return dn._name=="image"});if(dl){dd=O._parseURL(dl,dj,d,dk);d.vars(df+"image",dd);d[df+"image"]=dd;dm.image=dd}return dm},_parseAttributeList:function(dd,d,de){var df={};a9(dd,function(dg){df[dg._name]=dg._body});return df},_parsePlainJSText:function(d){return b6(TCCore.resolveTokenString(d,null,null))},_parseList:function(de,dd,df){var d=bM(de);return{list:d}}};function aH(){return{_vars:new Object(),vars:function(dd,d){if(arguments.length==1){return this._vars[dd]}this._vars[dd]=d}}}var cw=aF.clazz({fields:{sku:b,name:o,description:o,link:cF,price:cc,wasprice:cc,instock:ae,images:aW,image:aW,reviews:q,ratings:q,al:b9,quantity:o},parsers:O,_ext:{},init:function(dd,df){var d=this;d.player=df;if(dd!=null){var dh=true;if(df){var dg=df.getVar("resolveJSPath");if(dg){if(dg==true||dg=="true"){dh=false}}}d.u=aF.absolute(dd.url,dh?aF.getBase(dd):null).split("{{sku}}");for(var de=0;de<d.u.length;de++){d.u[de]=df.resolveTokenString(d.u[de])}d.m=dd.method;d.cache=d.m.toLowerCase()!="post";if(d.m=="JS"){d.getProduct=d.getProductJS;d.getProducts=d.getProductsJS;d.jsArgs=cx(dd.url)}a9(dd,function(di){if((di._name=="tc:f")||(di._name=="tc:a")){d.fields[di.id.toLowerCase()]=di.type;d._ext[di.id.toLowerCase()]=di}})}},parseProd:function(de,dm){var dd=aH();dd.isInStock=function(dt,dx){if(arguments.length==1){dx=true}var ds=this.variants;var dr=ds.length;for(var dp=0;dp<dr;dp++){var dn=ds[dp];var dv=true;var dq=dn.al;if(!dq){continue}if(dx){for(var du in dt){if(dq[du]!=dt[du]){dv=false;break}}}else{for(var du in dq){var dw=dt[du];if(dq[du]!=dw){dv=false;break}}}if(dv){if(dn.vars("instock")!==false){return true}}}return false};this.parseVariant(de,dd);var dj=aF.where(de,function(dn){return dn._name=="v"});var dk=[];for(var dh=0;dh<dj.length;dh++){var df=aH();this.parseVariant(dj[dh],df);dk.push(df)}dd.variants=dk;var dg=aF.where(de,function(dn){return dn._name=="a"});var di={};for(var dl=0;dl<dg.length;dl++){var d=aH();this.parseAttribute(dg[dl],d);di[d.id]=d}delete di._name;dd.atts=di;return dd},parseAttribute:function(de,d){d.type=de.type;d.id=de.id;if(this._ext[d.id]){var dd=this._ext[d.id];d.dependsOn=dd.dependsOn}switch(d.type){case"list":d.list=bM(de,d);break;case"single":this.parseAttributeSingle(de,d);break}},parseAttributeSingle:function(de,d){var df=aF.first(de,function(dg){return dg._name=="val"});var dd=aF.where(de,function(dg){return dg._name=="content"});d.list={value:df,content:dd}},parseVariant:function(dh,di){di.raw=dh;for(var de=0;de<dh.length;de++){var dd=dh[de];if(!dd||!dd._name){continue}var d=(dd._name||"").toLowerCase();switch(d){case"v":case"a":case"c":continue}var dg=this.fields[d];var df=aq[dg];var dj=null;if(df){dj=df(dd,dh,di,this.player,d)}else{dj=O._parsePlain(dd,dh,di)}di[d.toLowerCase()]=dj;di.vars(d.toLowerCase(),dj)}if(di.images){di.image=di.images;di.vars("image",di.images)}if(!di.quantity){di.quantity=1}},getProduct:function(df,dd,de,d){aF.load(this.u.join(df),function(di,dh){if(di){var dg=aF.xParse(dh);if(dg){dg=aF.xParseObj(dg);if(dg){dg=this.parseProd(dg,this.player)}}if(dg==null||!dg.sku||dg.sku.toLowerCase()!=df.toLowerCase()){d(df);return}de([dg])}else{d(df)}},{method:this.m},this)},getProducts:function(de,dd,df){switch(de.type.toUpperCase()){case"GET":case"POST":var d=this;aF.load(de.value,function(di,dg){if(di){var dh=this.parseProducts(aF.xParseObj(dg),d.player);df(dh)}else{df([])}},{method:de.type||"GET"},this);break;case"JS":break}},parseProducts:function(df,de){if(!df){return[]}var dd=[];for(var d=0;d<df.length;d++){var dg=df[d];dd.push(this.parseProd(dg,de))}return dd},getProductJS:function(dh,de,dg){try{var dd=bW(this.player,this.handleJSProduct(this.player,dh,dg),dh,this.jsArgs);window.tencmsProduct.apply(null,dd)}catch(df){var d=window;if(d.console&&d.console.log){d.console.log(df)}}},getProductsJS:function(de,dd,df){var d=bW(this.player,this.handleJSFeed(this.player,df),null,cx(de.value));window.tencmsProductFeed.apply(null,d)},handleJSFeed:function(dd,de){var d=this;return function(dg){dg=dg||[];for(var df=0;df<dg.length;df++){if(!dg[df]){continue}dg[df]=d.convertJSProduct(dg[df],dd)}if(de){de(dg)}}},handleJSProduct:function(dd,df,de){var d=this;return function(dg){if(dg!=null){dg=d.convertJSProduct(dg,dd)}if(de){de([dg])}}},convertJSProduct:function(di,dj){var de=aH();for(var df in di){de[df]=di[df]}if(!de.images){de.images={};if(de.image){de.images._default=de.image}}for(var df in di){var d=df.toLowerCase();var dh=this.fields[d];var dk=aq[dh+"JSON"];var dd=null;var dg=di[df];if(dk){dd=dk(dg,di,de,this.player,d)}else{dd=O._parsePlain(dg,di,de)}de[d]=dd;de.vars(d,dd)}if(de.images){de.image=de.images;de.vars("image",de.images)}return de}});var aq={text:O._parseText,textJSON:O._parseText,url:O._parseURL,urlJSON:O._parseURL,plain:O._parsePlain,plainJSON:O._parsePlain,price:O._parseCurrency,priceJSON:O._parseCurrency,stock:O._parseStock,img:O._parseImg,tl:O._parseTL,al:O._parseAttributeList,num:O._parseNumber,list:O._parseList,bool:O._parseBool};function ad(df,dd,de){for(var d=0;d<dd.length;d++){var dg=dd[d];if(dg.length==0){df[de+dg._name]=dg._body}else{ad(df,dg,de+dg._name+".")}}}function cM(d,di,dg){var dh=d[di.toLowerCase()];if(!dh){return null}if(dh.length==0){if(dh){d[di]=b6(dh._body)}else{d[di]=""}}else{if(dg==null){var df=dh[0];if(df){d[di]=b6(df._body)}else{d[di]=""}}else{var dd=false;for(var de=0;de<dh.length;de++){if(dh[de]._name==dg){d[di]=b6(dh[de]._body);dd=true}}if(!dd){var df=dh[0];if(df){d[di]=b6(df._body)}else{d[di]=""}}}}return d[di]}function cx(df){if(!df){return[]}df=unescape(df);if(df.indexOf("|")==0){df=df.substr(1,df.length)}var d=df.split("|");for(var dd=0;dd<d.length;dd++){var de=d[dd];if(!de){continue}de=aF.trim(de);if(de.indexOf("{{")==0){d[dd]={type:"token",id:de.slice(2,de.length-2),value:de}}else{d[dd]={type:"literal",value:aF.json(de)}}}return d}function bW(df,dj,di,dd,dg){var d=[{result:dj}];for(var de=0;de<dd.length;de++){var dh=dd[de];if(!dh){continue}if(dh.type=="token"){if(dh.id=="sku"){d.push(di)}else{d.push(df.resolveTokenString(dh.value))}}else{d.push(dh.value)}}return d}var cb=aF.clazz({create:function(d,dd){this.c={};this.p=dd;this.gc={};this.config=d;this.onFail=aF.closure(this.onFail,this);this.onProduct=aF.closure(this.onProduct,this)},setProvider:function(d){this.prov=d;var dd=this.tempFeed;if(dd){this.prov.getProducts(dd.f,dd.e,this.onProducts(dd.c))}d.init(this.config,this.p)},getFeed:function(df,de,d,dd){if(dd){d=aF.closure(d,dd)}if(this.prov){this.prov.getProducts(df,de,this.onProducts(d))}else{this.tempFeed={f:df,e:de,c:d}}},get:function(dg,d,dd){if(dd){d=aF.closure(d,dd)}if(!dg){return}dg=this.p.resolveTokenString(dg);var df=dg.toLowerCase();var de=this.c[df];if(de===false||this.prov==null){d(null);return}if(de){d(de);return}if(this.gc[df]!=null){this.gc[df].push(d);return}this.gc[df]=[d];this.prov.getProduct(dg,this.p,this.onProduct,this.onFail)},onProducts:function(dd){var d=this;return function(de){de=de||[];if(d.cache){d.setProducts(de)}dd(de)}},onFail:function(de){if(!de){return}de=de.toLowerCase();var dd=this.gc[de];if(dd){if(typeof(dd)!="function"){for(var d=0;d<dd.length;d++){dd[d](null)}}else{dd(null)}}this.gc[de]=null;this.c[de]=false},onProduct:function(dh){if(this.cache){this.setProducts(dh)}for(var df=0;df<dh.length;df++){var dg=dh[df];if(!dg.sku){continue}var de=dg.sku.toLowerCase();var dd=this.gc[de];if(dd){if(typeof(dd)!="function"){for(var d=0;d<dd.length;d++){dd[d](dg)}}else{dd(dg)}}this.gc[de]=null}},set:function(dd,d){this.c[dd.toLowerCase()]=d},setProducts:function(d){for(var dd=0;dd<d.length;dd++){var de=d[dd];if(de.sku){this.c[de.sku.toLowerCase()]=de}}}});this.globals({data:cb,standardData:cw,removeHTML:b6});aF.nextPrev=aF.clazz({create:function(de,d){var dd=aF.getBase(de);this.ow=d;this.margin=["0","0"];if(de.margin){this.margin=String(de.margin).split(",")}this.n=new aF.button(de[0].src,dd);this.n.metaName="Next";this.n.o=d;this.n.click(function(){d.next(true,this,1)},this.n);this.addChild(this.n);this.p=new aF.button(de[1].src,dd);this.p.o=d;this.p.metaName="Previous";this.p.click(function(){d.prev(true,this,-1)},this.p);this.addChild(this.p);this.n.init=aF.closure(this.resize,this);this.p.init=aF.closure(this.resize,this);this.setTrackNames();aF.getTimeline(de).pauseOnHover(this,function(){var df=aF.getPlayer(de).carousel;if(df.__ppSlide!=null){return null}return d.selected()})},setTrackNames:function(){var d=this.ow;this.n._tid=d._tid+"_Next";this.p._tid=d._tid+"_Prev"},focus:function(dd,de,d){if(d){return}this.p.enabled(dd!=0);this.n.enabled(dd!=de-1)},resize:function(){if(this._w){this.size(this._w,this._h)}},size:function(d,dd){if(this.snapEnabled){return}if(!this.n._h||!this.p._h){this._w=d;this._h=dd}this.n._x(d-this.n._w-Number(this.margin[0]));this.n._y(((dd-this.n._h)/2)+Number(this.margin[1]));this.p._x(Number(this.margin[0]));this.p._y(((dd-this.p._h)/2)+Number(this.margin[1]))}},aF.newDisplay);var E=aF.clazz({create:function(d){this.isCTNR=true;this.bg=new aF.media("background");this.bg.metaName="Background";this.addChildAt(this.bg,0);this.type="slide";this.moveNext=aF.closure(this.moveNext,this)},size:function(d,de,dd){this.bg.size(d,de);dd(d,de)},setFocus:function(d,dd,df,de){if(de){de(d,dd,df)}},finishAnimate:function(de,dd){dd(de);if(this.animating.length==0&&this.startTime!=null){var df=this.parentNode.parentNode;var d=df.autoPlay;if(this.canMoveNext()){if(aF.getTimer()-this.startTime>d){clearTimeout(this.timeout);this.timeout=setTimeout(this.moveNext,1000);this.root._player.registerDestroyer(function(){clearTimeout(this.timeout)})}}}},carouselPause:function(dd,de){if(!dd&&this.selected){var dg=this.parentNode.parentNode;var d=dg.autoPlay;var df=this.canMoveNext();if(df){if(aF.getTimer()-this.startTime>d){clearTimeout(this.timeout);this.timeout=setTimeout(this.moveNext,1000);this.root._player.registerDestroyer(function(){clearTimeout(this.timeout)})}}}},moveNext:function(){if(!this.parentNode){return}var d=this.parentNode.parentNode;if(d.end>0){if(this.canMoveNext()){this.startTime=aF.getTimer();d.next()}if(!d.loop&&d.index==d.end){if(d.ss){d.ss.togglePause(true)}}}else{if(this.canMoveNext()&&!this.firstEnter){this.firstEnter=true;if(d.items.length>0){d.items[0].setFocus(this,true,true);this.startTime=aF.getTimer()}}}},canMoveNext:function(){if(this.animating==null){return true}var d=aF.getTimeline(this.c);return this.animating.length==0&&d.isPaused(this.parentNode.parentNode)!=true}},aF.canvas,null,true);aF.slide=E;var c3=aF.clazz({create:function(dh,dd,df,d){this.allowFocus=false;this.metaName="Carousel";this._id=dh;this.init({create:aF.repeaterDefault(E,dd)},true);this.autoPlay=dd.autoPlay?Number(dd.rotationSpeed)*1000:0;this.p=aF.getPlayer(dd);this.ttype=dd.transition;switch(dd.transition){case"fade":this.lytmgr=new bh(this);break;case"wipe":this.lytmgr=new j(this);if(aF.isTouch){this.target.animatable()}break}this.conf=dd;this.loop=dd.looping;this.ctrls=aF.newDisplay();this.ctrls.visible(false);var de=dd.slideSelector;if(de&&de.length>0&&aF.selector){this.ss=new aF.selector(de,this);this.ctrls.addChild(this.ss)}var dg=dd.nextPrevious;if(dg&&dg.length>0&&aF.nextPrev){this.np=new aF.nextPrev(dg,this);this.ctrls.addChild(this.np)}this.isPaused=!dd.autoPlay;aF.setBindable(this.p,"Carousel",this)},play:function(){this.triggerPause(false)},pause:function(){this.triggerPause(true)},tc_context:function(d){d.carousel={slide:this.index}},setMargins:function(d){var dd=aF.getPlayer(this.conf);if(dd){mar=String(d).split(",");if(mar.length==4){this.size(dd._w-Number(mar[1])-Number(mar[3]),dd._h-Number(mar[0])-Number(mar[2]));this._x(Number(mar[3]));this._y(Number(mar[0]))}}},parse:function(dh,dg){var de=this.oLoop=aF.json(dh.overrideLoop);if(de){if(typeof(de)=="string"){de=aF.json(de)}this.loop=de}this.oMargins=aF.json(dh.overrideMargins);if(this.oMargins){this.setMargins(this.oMargins)}var dk=this.conf;if(dk.autoPlay&&dk.speedOverride&&dh.carouselSlideInterval!=null&&dh.carouselSlideInterval!=0){this.autoPlay=Number(dh.nodeText("carouselSlideInterval"));this.togglePause(this.autoPlay)}var dd=this.oAuto=aF.json(dh.overrideAutoPlay);if(dd){if(typeof(dd)=="string"){dd=aF.json(dd)}if(dd!=undefined){var df=dh.nodeText("carouselSlideInterval");if(df){if(dd){this.autoPlay=df}else{this.autoPlay=0}}else{if(dd){this.autoPlay=this.conf.rotationSpeed*1000}else{this.autoPlay=0}}}}this.togglePause(this.autoPlay);dg(dh);this.len=this.items.length;if(this.len<=1){if(this.np){this.np.visible(false)}if(this.ss){this.ss.visible(false)}}else{var dj=this.p.getVar("app")?null:"v";if(this.conf.transition=="wipe"){aF.touchSlider(this.target,{next:aF.closure(this.next,this),prev:aF.closure(this.prev,this),trackinit:aF.closure(this.trackinit,this),track:aF.closure(this.track,this),pause:aF.closure(this.triggerPause,this),max:30},this.p,dj)}}if(this.np){this.np.setTrackNames()}var di=this.p.getVar("slide");this.select(0,null,null,null,true);if(di){di=Number(di)-1;if(di>this.end){di=this.end}this.select(di)}aF.setPausable(this.p,this._tid,this);this.p.addChild(this.ctrls)},track:function(dd,d,de){this.lytmgr.track(dd,d,de)},trackinit:function(){this.lytmgr.trackinit()},change:function(dg,df,de,dd,d){aF.trackGlobal(this.p,"C",(df+1));if(dg!=df){aF.track(this.p,"SD",de?dd:null,this,(df+1))}this.lytmgr.change(dg,df,de,this,dd,d);if(this.ss){this.ss.select(df)}if(this.np){this.np.focus(df,this.len,this.loop)}aF.preloadSetSlide(df,this.p);this.p.setSlide(df)},tweening:function(d){this.p.enableMouse(d);this.isTweening=d;this.p.isTweening=d},next:function(de,dd,d){this.select(this.index+1,this.loop,de,dd,null,d)},prev:function(de,dd,d){this.select(this.index-1,this.loop,de,dd,null,d)},layout:function(d){aF.preloadSetSlides(d,this.p);this.lytmgr.layout(d,this._w,this._h);if(this.ss){this.ss.draw(d)}},size:function(d,dd){if(this.np){this.np.size(this.p._w,this.p._h)}if(this.ss){this.ss.size(this.p._w,this.p._h)}this.base.size(d,dd)},triggerPause:function(d){var dd=this.items[this.index];if(dd!=null){aF.getTimeline(this.conf).pause(dd,d)}},togglePause:function(d){var dd=this.items[this.index];if(dd!=null){this.isPaused=d;dd.carouselPause(d)}if(this.ss){this.ss.togglePause(d)}},initFocus:function(){this.allowFocus=true;if(this.items.length>0){this.items[0].setFocus(this,true,true)}},api_next:function(){this.next(true,null,1)},api_prev:function(){this.prev(true,null,-1)},api_first:function(){this.select(0,this.loop,true,null,null,-1)},api_last:function(){this.select(this.items.length-1,this.loop,true,null,null,1)},api_goto:function(df){if(!df){return}if(df.indexOf("#")!=-1){df=Number(df.slice(1))}var dd=this.index;var dg=df-1;var de=dd<dg?-1:1;this.select(dg,this.loop,true,null,null,de)}},aF.repeater,[aF.m.sizeableClip]);var bh=aF.fadeTransition=aF.clazz({create:function(d){this.mgr=d;this.tgt=d.target},change:function(di,dj,dg,dk,d,df){var dh=this.items[di];var dl=this.items[dj];dk.tweening(true);var de=dh!=null&&di!=dj;if(de){dh.alpha("1")}dl.alpha("0");dl.visible(true);if(dh!=null&&di!=dj){var dd=this;aF.tween(dh,1,{alpha:0,onComplete:function(){dk.tweening(false);dh.visible(false)}})}aF.tween(dl,1,{alpha:1,onComplete:function(){dk.tweening(false)}})},layout:function(dd,d,df){this.items=dd;for(var de=0;de<dd.length;de++){var dg=dd[de];dg.size(d,df);dg._x(0);dg.visible(false);dg.alpha(0)}},track:function(dd,d,de){},trackinit:function(){}});var cs=function(de,dd,dg,df){if((de/=df*0.5)<1){return dg*0.5*de*de+dd}return -dg*0.5*((--de)*(de-2)-1)+dd};var bK=function(de,dd,dg,df){return -dg*(de/=df)*(de-2)+dd};var j=aF.wipeTransition=aF.clazz({create:function(d){this.mgr=d;this.tgt=d.target;this._cx=0;this.cdir="left";var dd=setTimeout(function(){d.target._x(0)},100)},layout:function(dd,d,df){this.items=dd;this._w=d;for(var de=0;de<dd.length;de++){var dg=dd[de];dg.size(d,df);if(aF.isTouch){dg.animatable()}dg._x(d*de);if(!aF.isTouch){dg.visible(de==0)}}},change:function(dn,de,dd,dp,dj,dl){var dt=this.items[dn];var dk=this.items[de];if(!dt){return}dt._x(0);for(var dq=0;dq<this.items.length;dq++){var di=this.items[dq];if(di!=dt&&di!=dk){di.visible(false)}else{di.visible(true)}}var df=this.items.length-1;var du=dn<de?1:-1;if(df>=2){if(this.mgr.loop){if(dn==df&&de==0){du=1}else{if(dn==0&&de==df){du=-1}}}}if(dd=="touch"){if(this.tgt._x()<0){if(dn==df&&de==0){du=1}}if(this.tgt._x()>0){if(dn==0&&de==df){du=-1}}}if(dd==null){du=1}else{if(dj&&dj.metaName=="SlideSelector"){var dm=dn>=de;du=dm?-1:1}}if(dl){du=dl}var dg=0;if(du==1){dk._x(this._w);dg=-this._w}else{dk._x(-this._w);dg=this._w}dp.tweening(true);dt.animate(-1);if(dk){dk.animate(1)}var dr=this.tgt;if(dd!="touch"){this.tgt._x(0);aF.tween(this.tgt,1,{ease:cs,_x:dg,onComplete:function(){dp.tweening(false);dr._x(dg);if(!aF.isTouch){dt.visible(false)}}})}else{var ds=this.tgt._x()>0?this.tgt._x():this.tgt._x()*-1;var dv=this._w-ds;var dh=dv/this._w;var d=this;aF.tween(this.tgt,dh,{ease:bK,_x:dg,onComplete:function(){dp.tweening(false);dr._x(dg);if(!aF.isTouch){dt.visible(false)}}})}},trackinit:function(){this.tgt._x(0);var df=this.mgr.index;var de=this.items;var di=de.length;var dh=de[df];var dd=de[df-1]!=null?de[df-1]:de[di-1];var d=de[df+1]!=null?de[df+1]:de[0];for(var dg=0;dg<di;dg++){de[dg]._x(0);de[dg].visible(false)}dh.visible(true);if(de.length>1){dd._x(this._w*-1);dd.visible(true);d._x(this._w);d.visible(true)}},track:function(de,dd,df){var dg=dd*-1;if(!this.mgr.loop){if(this.mgr.index==0){dg=Math.min(dg,0)}if(this.mgr.index==(this.items.length-1)){dg=Math.max(dg,0)}}if(de!=this.cdir){if(this.items.length==2){var d=this.items[(this.items.length-1)-this.mgr.index];if(de=="left"){d._x(this._w)}else{if(de=="right"){d._x(this._w*-1)}}}}if(de!="reset"){this.cdir}if(de=="reset"){aF.tween(this.tgt,0.2,{_x:dg});return}this.tgt._x(dg)}});aF.carouselPlayer=aF.clazz({create:function(){this.ldr=new aF.loaderBar();this.css("position","relative");this.addChild(this.ldr);this.firstLoad=false;this.ldrList=[];this.loaderMap={}},size:function(d,dd,de){de(d,dd);if(this.ldr!=null){this.ldr._x((d-45)/2);this.ldr._y((dd-5)/2)}},initStyle:function(d,dd){dd(d);this.ldr.color(this.color("_default"))},loadComplete:function(dg){dg();var dd=0;for(var df in this.loaderMap){if(this.loaderMap[df]){dd+=this.loaderMap[df].length}}var de=this.carousel;if(dd==0&&!this.firstLoad){this.firstLoad=true;var di=this.HOLDER;var dh=this.PLYR;dh.alpha("0");de.ctrls.visible(true);de.visible(true);aF.tween(dh,0.6,{alpha:1,onComplete:function(){var dj=window.tencmsSplashComplete;if(dj){dj(dh.playerID)}}});de.initFocus()}var d=window.tencmsAppLoaded;if(d){d(this.playerID)}},initTemplate:function(){var d=this.feature("carousel");var de=aF.getPlayer(d);this.PLYR=de;if(de){this.HOLDER=de.parentNode}if(!d){return}var dd=["0","0","0","0"];if(d.slide){dd=String(d.slide.margin).split(",")}this.carousel=new c3("c",d,this,this._w);this.carousel.visible(false);this.carousel.size(this._w-Number(dd[1])-Number(dd[3]),this._h-Number(dd[0])-Number(dd[2]));this.carousel._x(Number(dd[3]));this.carousel._y(Number(dd[0]));this.addChild(this.carousel);this.block=aF.newDisplay();this.block.clip(this._w,this._h);this.block.css("zIndex",9000);this.block.visible(false);this.block.bind("touchstart",function(df){df.preventDefault();return});this.addChild(this.block);this.ldr.css("zIndex",700);this.ldr.animate(true);if(!aF.panels){return}this.panels=this.feature("panels");this.panelSet=new aF.panels(this.panels)},enableMouse:function(d){this.block.visible(d)},showLoader:function(d){this.ldr.visible(d);this.ldr.animate(d)},hasLoaded:[],setSlide:function(dd){var d=this.loaderMap[dd];this.showLoader(d!=null&&d.length>0)},loaderEvent:function(dg,de){var d=de.__slide;if(d==null&&aF.isClassType(de,aF.slide)){d=de}if(!d){return}de.__slide=d;var dj=this.carousel.items.indexOf(d);if(dj==-1){return}var dl=this.loaderMap[dj]=this.loaderMap[dj]||[];var dh=dl.indexOf(de);var dd=this.hasLoaded.indexOf(de._url);if(dg){if(dh==-1&&dd==-1){dl.push(de);this.hasLoaded.push(de._url);if(dj==this.carousel.index){this.showLoader(true)}}}else{if(dh!=-1){dl.splice(dh,1)}if(dd!=-1){this.hasLoaded.splice(dd,1)}var di=this.carousel;if(dj==di.index&&(this.hasLoaded.length==0||dl.length==0)){this.showLoader(false);if(!this.firstLoad){this.firstLoad=true;var dk=this.HOLDER;var df=this.PLYR;df.alpha("0");di.ctrls.visible(true);di.visible(true);aF.tween(df,0.6,{alpha:1,onComplete:function(){var dm=window.tencmsSplashComplete;if(dm){dm(df.playerID)}}});di.initFocus()}}else{}}}},aF.player);var cV=aF._tcText=aF.clazz({create:function(){this.selectable(false);this.clipText()},metaName:"Text",setLink:function(de,dd,dh){var dg="<a ";if(dd){dg+=" onclick='return false;' "}var d="";if(de.HyperLink){d='class="'+de.linkClass+'"'}if(!de.HyperLink){var df=' style="font-size:'+de.size+";font-family:"+de.font.name+";text-decoration:none;color:"+de.color+';"'}else{var df=' style="font-size:'+de.size+";font-family:"+de.font.name+';"'}if(this.action&&this.action.type()=="link"){if(this.action.h.link){dg+=' href="'+this.p.resolveTokenString(this.action.h.link.href)+'" '+d+df+' target="'+this.action.h.link.target+'">'+this.innerHTML+"</a>"}else{dg+=' href="" '+d+df+' target="">'+this.innerHTML+"</a>"}}else{dg+=' href="#" '+d+df+">"+this.innerHTML+"</a>"}this.innerHTML=dg;this.__allowLink=false},parse:function(dj){this.base.parse(dj);var di=this;var dh=this.p=aF.getPlayer(dj);var dg=function(dp){var dm=null;if(dp.link&&dp.link.link){var dl=dp.link;var dn=aF.getPlayer(dp);dl.href=dn.resolveTokenString(dl.href);dm=new aF.action();dm.type("link");if(dn){dm.player=dn;dm.root=dn;if(dm.h){dm.h.player=dn;dm.h.root=dn;dm.h.link=dl.link}}}else{if(dp.action&&dp.action.action&&dp.action.action.type!="null"){dm=aF.tempAction(dp,false,dp,"action",true)}}return dm};this.action=dg(dj);if(dj.textStyle){var df=dh.textStyle(dj.textStyle?Number(aF.json(dj.nodeText("textStyle"))):0);this.isEmbeddedFont=!df.font.sys?true:false;this.fontStyle(df)}var de="";if(dj.text){de=aF.json(dj.nodeText("text"));de=de.split("\r").join("<br />");this.orig=de}var dk="left";if(dj.textAlign){dk=aF.json(dj.nodeText("textAlign"))}this.css("textAlign",dk);de=dh.resolveTokenString(de,null,function(){var d=dh.resolveTokenString(dh.resolveTokenString(di.orig));di.text(d)});this.text(de);if(this.action&&this.action.type()!="null"){this.css("cursor","pointer");this.setLink(df,null);aF.getTimeline(dj).pauseOnHover(this,this);if(this.action.type()!="link"){this.bind("click",this.activate,null,true)}else{var dd=function(){if(dh.touchMoving||dh.moreFingers){return}aF.track(dh,"LS",this,{metaName:"Carousel"},this.action.h.link.href)};this.bind("click",dd,null,true)}}},activate:function(d){d.preventDefault();this.action.activate({scope:this,event:"click",parent:this.parentNode,productScope:null})}},aF.newText,[aF.m.sizeable,aF.m.draggable]);aF.registerComponent({clazz:cV,nodeName:"tc:freeText",namespace:"tc"});aF.registerComponent({clazz:cV,nodeName:"tc:text",namespace:"tc"});var Z=aF.clazz({metaName:"freeImg",parse:function(df,de){if(de){de(df)}if(!df){return}if(this.canLink){var dd=df.link;if(dd!=null&&(dd=dd.link)){aF.getTimeline(df).pauseOnHover(this,this)}}if(df.altText){this.attr("alt",aF.json(df.nodeText()))}}},aF.media,[aF.m.draggable]);aF.registerComponent({clazz:Z,nodeName:"tc:mediaArea",namespace:"tc"});var co={name:{size:[120,15],pos:[115,15]},image:{size:[100,100],pos:[10,10]},description:{size:[120,15],pos:[115,32]},price:{size:[120,15],pos:[115,49]},wasPrice:{size:[120,15],pos:[115,66]},moreInfo:{pos:[115,85]},secondary:{pos:[115,20]},close:{pos:[0,0]},"ratings.image":{pos:[115,120],size:[100,20]},"reviews.text":{pos:[115,145],size:[100,20]}};var cR=function(de){if(de.text){var dd=aF.getPlayer(de);this.text(dd.resolveTokenString(aF.json(de.nodeText("text"))))}};var aT={text:function(dh,di,dk){var dd=aF._tcText();var dg=aF.getPlayer(dh).textStyle(dh.fontStyleId||"0");var df=aF.getPlayer(dh).alignment(dh.textAlignmentId||"0");var dj="";switch(df){case"Left":dj="left";break;case"Centre":dj="center";break;case"Right":dj="right";break;default:dj="left";break}var de=function(dl){return function(dm){dl.fontStyle(dg);dl.textAlign(dj||"left")}};dd.fontStyle(dg);dd.textAlign(dj||"left");dd.parse=aF.mix(dd,[dd.parse,de(dd)]);var d=dd.setLink;dd.setLink=function(dm,dl){d.apply(dd,[dg,dl])};dd._id=dh.id;dd.size=dd.clip;dd.canLink=true;if(dk){dd.canLink=false}if(di._name!="groupedElements"){dd.ellipsis()}else{dd.clipText()}if(dh.action){}dd.config=dh;return dd},button:function(dh,d,df,de){if(!dh.button){return null}var dd=new aF.button(dh.button.src,aF.getBase(dh),function(di){if(dh.id=="close"){di.bind("click",bu,null,true);if(dh.margin){this.margin=dh.margin.split(",");this.margin[0]=Number(this.margin[0]);this.margin[1]=Number(this.margin[1])}else{this.margin=[0,0]}var dm=di.width();var dj=di.height();var dk=d.width;var dl=d.height;di._position=false;switch(dh.position){case"TL":di._x(this.margin[0]);di._y(this.margin[1]);break;case"TR":di._x(dk-dm-this.margin[0]);di._y(this.margin[1]);break;case"BL":di._x(0);di._y(dl-(dj-this.margin[1]));break;case"BR":di._x(dk-dm-this.margin[0]);di._y(dl-dj-this.margin[1]);break}di.visible(d.ctnrType!="slider")}else{di.bind("click",ca,null,true)}});dd.parse=aF.mix(dd,[aF.m.draggable.parse,this.buttonParse(dh,de,dd)]);dd._id=dh.id;dd.config=dh;dd.metaName="panelButton";var dg=aF.getTimeline(dh);dg.pauseOnHover(dd,dd);return dd},video:function(dj,dd,df,dg,de,di,dh){if(!aF.video){return}var d=new aF.video(dj,null,de=="panel",dd,de,dh);d.size=function(dk,dl){this.clip(dk,dl)};d._id="vid";return d},buttonParse:function(d,de,dd){return function(df){dd.action=aF.tempAction(d,de=="data",df,"action")}},image:function(dh,dd,df,dg,de){var d=new aF.media(dh.id);if(de=="group"||df){d.scaleMode("aspect")}if(df){d.canLink=false;d.parse=aF.m.draggable.parse}else{d.parse=aF.mix(d,[d.parse,aF.m.draggable.parse,aF.m.linkable.parse])}d.config=dh;if(dh.action){d.bind("click",ca,null,true)}return d}};var a0=function(di,dl,dg){var df=di._f;if(!df){return}var dn=aF.getPlayer(dg);di.prod=dl;for(var dp=0;dp<df.length;dp++){var dr=df[dp];var dt=dr._c;var dj=dl.instock;var du=true;dr.prod=dl;if(dt.id){dt.id=dt.id.toLowerCase()}switch(dt.type){case"image":var dk=dl[dt.id];if(dt.id=="image"){dk=dl.images._default}dr.scaleMode("aspect");dr.offset(0,0);dr.load(dk,aF.getBase(dg));break;case"text":dr.text(dl[dt.id]);break;case"button":if(dt.togoos==true){dr.enabled(dj);du=dj}break}if(dr.config&&du){switch(dr.config.action){case"link":if(dl.link&&dl.link!=""){var dd=dl.link;if(dr.config.actionData){dd=dn.resolveTokenString(dr.config.actionData,dl)}dr.action=aF.tempAction(dr.config,true,dn.content.importNode({action:{action:{link:{href:dd,target:"_self"}}}}),"action");dr.bind("click",ca,null,true)}break;case"pop":var ds=di.parseData==null?dl.sku:di._parseData.productSKU;dr.action=new aF.action(dr.config,{actionData:ds});if(di.config){if(di.config._name=="groupedElements"){var dh=dn.panelSet.createPanelByType("product");var dq=false;if(dh){dq=dh.c.type=="data"}else{dq=false}var d=null;for(var dm=0;dm<di._parseData.length;dm++){if(di._parseData[dm].id=="moreInfo"){var de=di._parseData[dm];if(de&&de.action){d=de.action;break}}}if(dq&&d==null){dr.action=aF.tempAction(dr.config,true,dn.content.importNode({action:{action:{showPanel:{sku:ds}}}}),"action")}else{if(d&&d.action&&d.action.showPanel){dr.action=aF.tempAction(dr.config,true,dn.content.importNode({action:{action:{showPanel:{panelData:d.action.showPanel.panelData,sku:d.action.showPanel.sku||ds}}}}),"action")}}}}dr.bind("click",ca,null,true);break;case"action":if(dr.action&&dr.action.type()=="action"){}else{dr.action=new aF.action();dr.action.type("action");dr.action.root=dn;dr.action.h.root=dn}dr.bind("click",ca,null,true);break}}}};var c=function(df){var de=df._f;if(!de){return}for(var d=0;d<de.length;d++){var dd=de[d];if(dd.reset){dd.reset()}dd.visible(false)}};var an=function(df){var de=df._f;if(!de){return}for(var d=0;d<de.length;d++){var dd=de[d];dd.visible(true);dd.eFrom=df.eFrom;var dh=dd._c;if(dd._id=="close"){var dg=df.method}}};var ca=function(dd){dd.preventDefault();dd.stopPropagation();if(!this.action){return}var d={scope:this,event:"click",parent:this.parentNode};if(this.prod){d.productScope=this.prod.sku}this.action.activate(d)};var bu=function(dd){dd.preventDefault();dd.stopPropagation();var d=this.parentNode;d.hide(dd)};var x=["reviews.text","ratings.image"];var aE=function(dg,de,d,dq,dh,dj,dn){if(dg.config){if(dg.config._name=="groupedElements"){dh=true}}this.obj=dg;dg._f=[];var dj=dj||co;var dd=[];for(var df=0;df<de.length;df++){var dk=de[df];if(dk.type=="image"){dd.splice(0,0,dk)}else{dd.push(dk)}}dd.sort(function(dt,dr){var ds=x.indexOf(dt.id);var dl=x.indexOf(dr.id);if(ds<dl){return -1}else{if(ds>dl){return 1}}return 0});for(var df=0;df<dd.length;df++){var dk=dd[df];if(!dk.enabled){continue}if(d){if(d.indexOf(dk.id)==-1){continue}}if(aT[dk.type]){var dm=aT[dk.type](dk,de,dq,dh,dn,dg.metaName,dg);if(dm!=null){dm._id=dk.id;if(dm._cid){dm._id=dm._cid}var di=dj[dk.id];if(di!=null){var dp=di.size;if(dp&&dm.size){dm.size(dp[0],dp[1])}dp=di.pos;if(dp&&dm._position!=false){dm._x(dp[0]);dm._y(dp[1])}}dm._c=dk;dg.addChild(dm);dg._f.push(dm);if(dn=="panel"){dm._isPanel=true;dm._pType=dg.c.panelType}if(dn=="slider"){dm._isSlider=true;dm._pType=dg.c.panelType;dm._ind=dg._ind}if(dk.action!=null&&dq){dm.css("z-index","20");dm._config=dk;dm._actionEvt=function(){bz(this._config,this.prod,this,dg)};dm.bind("click",dm._actionEvt);dm.css("cursor","pointer")}}}}};function bz(d,dg,dd,de){var df=cm(d,dg);if(df!=null){df.activate(dg,dd,de)}}function cm(d,df){var dd=aF.getPlayer(d);var de=d.actionData;if(de!=null&&typeof(de)=="string"){de=dd.resolveTokenString(de,df)}switch(d.action){case"link":return new aF.action(d,{actionData:{link:{href:de,target:d.target||"_self"}}});case"pop":break;case"action":break}}this.addRenderType=function(d,dd){aT[d]=dd};this.globals({renderElements:aE,populate:a0,hideElements:c,showElements:an});var aS=aF.clazz({create:function(df,de,dd,d){this.config=df.feature("groupedElements");this.size(225,110);this.metaName="Group"},parse:function(dh,df){this.d=dh;var dg=this.config.type=="data";var di=dh.nodeText("visibleFields");var de=["image","moreInfo","name"];if(di){de=aF.json(di)}aF.renderElements(this,this.config,de,dg,null,null,"group");df(dh);if(dg&&dh.productSKU){var dd=aF.getData(dh);if(dd){dd.get(aF.json(dh.nodeText("productSKU")),this.setProd,this)}}this.css("overflow","visible")},setProd:function(d){if(!d){return}aF.populate(this,d,this.config)}},aF.newDisplay,[aF.m.sizeable,aF.m.draggable,aF.m.elementCtnr]);aF.registerComponent({clazz:aS,nodeName:"tc:IMAprodGrpItem",namespace:"tc"});var D=aF.hotspot=aF.clazz({create:function(de){if(de){var dd=de.feature("hotspots");this.config=dd;if(aF.isTouch){for(var d=0;d<dd.length;d++){dd[d].method="click"}}}aF.getTimeline(de).pauseOnHover(this,this)},metaName:"Hotspot",parse:function(dk){if(this.isParsed){return}this.isParsed=true;var dm=this;dm.t=dk.isToggle;dm.d=dk;var dl=dm.config;if(dk.hotspotType){dm.hst=aF.json(dk.nodeText("hotspotType"))}else{if(dl.length>0){dm.hst=dl[0].id}}if(!dm.hst){return}var di=false;var dg=dk.skin;if(dg){dg=dg.tbAsset;if(dg){dg=dg.src;di=true}}for(var dh=0;dh<dl.length;dh++){var dj=dl[dh];if(dm.hst==dj.id){dm.pt=dj.panelType;var df=di==true?dg:dj.button.src;var dd=dm.n=new aF.button(df,aF.getBase(dk),aF.closure(dm.initSize,dm));dm.m=dj.method;if(dj.method=="click"){dm.n.bind("click",dm.activate,dm,true)}else{if(dj.method=="hover"){dm.n.bind("mouseover",dm.activate,dm,true)}}var de=dm.action=aF.tempAction(dj,false,dk,"action",true);de.params={isToggle:dm.t};if(dm.t){aF.tcBind(de,"on",function(){dd.toggle(true)});aF.tcBind(de,"off",function(){dd.toggle(false)})}dm.addChild(dm.n);break}}dm.base.parse(dk)},initSize:function(d){this.width(d._w);this.height(d._h);this._w=d._w;this._h=d._h},activate:function(d){d.preventDefault();this.action.activate({scope:this,event:this.m,parent:this.parentNode,productScope:null})}},aF.newDisplay,[aF.m.draggable]);aF.registerComponent({clazz:D,nodeName:"hotspot",namespace:"tc"});var bJ=aF.clazz({create:function(dg,dl,dp,d){this.selected=false;this.c=dg;this.index=dl;this.slideData=dp;this.addClass("tcSlideSelector");this.metaName="SlideSelector";this.userSelect(this,"none");this._tid=d.owner._tid+"_SlideSelector_"+Number(dl+1);if(dp&&dp.proxyData&&dp.proxyData.ss){this.pData=dp.proxyData.ss}var dn=0;var dj=0;var dq=this;function dm(){var ds=dg.button;if(ds){dq.addChild(dq.btn=new aF.button(ds.src,aF.getBase(dg)));dn=Math.max(dn,dq.btn._w);dj=Math.max(dj,dq.btn._h);dq.btn.hover(dq.btn.stateWrap(0),dq.btn)}}function dk(){var dt=dg.label;if(dt&&dt.enabled){var dv=dq.lbl=aF.newText();var ds=dt.type=="custom"?dg.fs_normal.size:"10px";dv.fontStyle(ds,dg.fs_normal.font.name,dg.fs_normal.color);dv.textAlign("center");dv.selectable(false);dv.css("white-space","nowrap");if(dt.type=="number"){dv.txt=Number(dl+1).toString()}if(dt.type=="custom"){dg.editable=true;var du=dq.pData;if(du&&du.text&&du.text.text&&du.text.nodeText("text")){dv.txt=aF.json(du.text.nodeText("text"))}}dv.text(dv.txt);dq.addChild(dv)}}function df(){var dt=dg.icon;if(dt&&dt.enabled){dg.editable=true;var du=new aF.media();du.canLink=false;var ds=dq.pData;dq.addChild(dq.icon=du);if(ds&&dq.slideData.proxyData.ss.mediaArea){aF._el(du,ds.mediaArea)}}}var dh=["button","label"];if(dg.order){dh=String(dg.order).split(",")}var dr=[{order:dh.indexOf("button"),invoke:dm},{order:dh.indexOf("label"),invoke:dk},{order:dh.indexOf("icon"),invoke:df}];dr.sort(function(dt,ds){if(dt.order<ds.order){return -1}return 1});for(var di=0;di<dr.length;di++){dr[di].invoke.apply(this)}this.width(dn);this.height(dj);var de=this.icon;if(de){de.width(dn);de.height(dj);de.clip(dn,dj)}var dd=this.lbl;if(dd){dd.width(dn);dd.height(dj);aF.measureText(dd,"W");dd._y((dj-dd.height())/2);dd.clip(dn,dj)}this.css("cursor","pointer");this.bind(aF.evt.mouseover,function(){this.onOver()},this);this.bind(aF.evt.mouseout,function(){this.onOut()},this)},select:function(dd){this.selected=dd;var de=this.btn;if(de){de.select(dd)}var df=this.lbl;var dg=this.c;if(df){var d;if(dd){if(dg.fs_selected){d=(dg.label.type=="custom")?dg.fs_selected.size:"10px";df.fontStyle(d,dg.fs_selected.font.name,dg.fs_selected.color)}}else{d=(dg.label.type=="custom")?dg.fs_normal.size:"10px";df.fontStyle(d,dg.fs_normal.font.name,dg.fs_normal.color)}aF.measureText(df,"W");df._y((de._h-df.height())/2)}if(dd){this.css("cursor","auto")}else{this.css("cursor","pointer")}},onOver:function(){if(this.selected){return}var dd=this.btn;var de=this.lbl;var df=this.c;if(dd){dd.state(1)}if(de){var d=(df.label.type=="custom")?df.fs_over.size:"10px";de.fontStyle(d,df.fs_over.font.name,df.fs_over.color);aF.measureText(de,"W");de._y((dd._h-de.height())/2)}},onOut:function(){if(this.selected){return}var dd=this.btn;var de=this.lbl;var df=this.c;if(dd){dd.state(0)}if(de){var d=(df.label.type=="custom")?df.fs_normal.size:"10px";de.fontStyle(d,df.fs_normal.font.name,df.fs_normal.color);aF.measureText(de,"W");de._y((dd._h-de.height())/2)}}},aF.newDisplay);aF.selector=aF.clazz({create:function(dj,d,dh){this.owner=d;this.c=dj;this.pg=dj.pageNumbering;this.p=aF.getPlayer(dj);this.draggable=false;this.userSelect(this,"none");if(this.pg){dj.label={type:"number",enabled:true,fontStyleId:dj.fontStyleId}}this.loop=dj._parent.looping||false;this.direction=dj.direction?dj.direction:"horiz";this.axis=(this.direction=="horiz")?"_x":"_y";this.spacing=dj.spacing?Number(dj.spacing):0;dj.editable=false;this.maxItems=this.c.maxItems||-1;if(dj.label){if(dj.label.enabled){dj.fs_normal=aF.getPlayer(dj).textStyle(dj.label.fontStyleId||"_default");dj.fs_over=aF.getPlayer(dj).textStyle(dj.label.overStyleId||"_default");dj.fs_selected=aF.getPlayer(dj).textStyle(dj.label.selectedStyleId||"_default");if(this.pg){dj.fs_selected=dj.fs_over=dj.fs_normal=aF.getPlayer(dj).textStyle(dj.label.fontStyleId||"_default")}}}if(dj.margin){var di=this.margin=dj.margin.split(",");di[0]=Number(di[0]);di[1]=Number(di[1])}else{this.margin=[0,0]}this.offset=dh;this.pos=dj.position||"TL";var dg=this.btn;if(dj.button){dg=aF.absolute(dj.button.src,aF.getBase(dj));aF.load(dg,this.setImg,{type:"img"},this)}var dd=dj.playPause;this.playPause=dd;if(dd){if(dd.enabled){for(var df=0;df<dd.length;df++){var de=dd[df];if(de.name=="pause"){this.pauseSkin=aF.absolute(de.src,aF.getBase(dj))}if(de.name=="play"){this.playSkin=aF.absolute(de.src,aF.getBase(dj))}}if(this.pauseSkin!=null){aF.load(this.pauseSkin,this.setPlayPause,{type:"img"},this)}if(this.playSkin!=null){aF.load(this.playSkin,this.setPlayPause,{type:"img"},this)}}}aF.gesture(this,"swipe",{dist:50,onComplete:aF.closure(this.endSwipe,this)},this.p)},endSwipe:function(de,dd){if(de){if((dd=="up")||(dd=="left")){this.jumpNext()}else{this.jumpPrev()}}},jumpNext:function(){var dj=Number(this.maxItems);var dg=this.num;var dd=this._sel;var dk=this.direction=="horiz";var di=this.holder;var dh=this.spacing;var df;if(dk){contW=(dg*this.bx)+((dg-1)*dh);contH=this.by;df=Math.abs(di._x()/(this.bx+dh))}else{df=Math.abs(di._y()/(this.by+dh));contW=this.bx;contH=(dg*this.by)+((dg-1)*dh)}var de=df;for(var d=0;d<dj;d++){if(de+1<dg){de++}else{de=0}}this.select(de-1);this.select(de)},jumpPrev:function(){var dj=Number(this.maxItems);var dg=this.num;var dd=this._sel;var dk=this.direction=="horiz";var di=this.holder;var dh=this.spacing;var df;if(dk){df=Math.abs(di._x()/(this.bx+dh))}else{df=Math.abs(di._y()/(this.by+dh))}var de=df;for(var d=0;d<dj;d++){if(de-1>=0){de--}else{de=dg-1}}if(de+1==this.num){this.select(0)}else{this.select(de+1)}this.select(de)},setImg:function(dd,d){if(!dd){return}this.bx=d.width;this.by=d.height/4;if(this.offset){this.offset(this)}this.render();if(this._sel){this.select(this._sel)}},setPlayPause:function(dd,d){this.playPauseRendered=true;this.render()},positionNav:function(){var df=this.navNext;var dd=this.navPrev;if(!this.navNext||!this.navPrev){return}var dh=this.c;var dj=0;var di=0;var dk=this.width();var de=this.height();var dg=this.ppOffset||0;var d=this.npPPOffset||0;if(this.snapDir=="horiz"){dd._x(dj-dd._w-Number(this.navMargin[0])-dg);df._x(dj+dk+Number(this.navMargin[0])+d);dd._y(di+(de/2)-(dd._h/2)+Number(this.navMargin[1]));df._y(di+(de/2)-(df._h/2)+Number(this.navMargin[1]))}else{if(this.snapDir=="vert"){dd._x(dj+(dk/2)-(dd._w/2)+Number(this.navMargin[0]));df._x(dj+(dk/2)-(df._w/2)+Number(this.navMargin[0]));dd._y(di-dd._h-Number(this.navMargin[1])-dg);df._y(di+de+Number(this.navMargin[1])+d)}}},render:function(){if(!this.num||!this.bx){return}var dd=this.direction=="horiz";var dg=dd?this.bx:this.by;var dq=this.num;var du=this.spacing;this.removeAll();this.container=new aF.newDisplay();this.addChild(this.container);var ds=this.holder=new aF.newDisplay();ds.owner=this;this.container.addChild(ds);this.nc=new aF.newDisplay();ds.addChild(this.nc);this.cc=new aF.newDisplay();ds.addChild(this.cc);this.pc=new aF.newDisplay();ds.addChild(this.pc);if(this.maxItems<=0){this.nc.visible(false);this.pc.visible(false)}var dw=this;this.major=dg;this.minor=dd?this.by:this.bx;var dA;var dj;if(this.playPause&&this.playPause.enabled&&this.playPauseRendered){dA=true;dj=this.playPause.position}var df=[this.cc,this.pc,this.nc];for(var dx=0;dx<df.length;dx++){for(var dz=0;dz<this.num;dz++){var de;if(typeof this.slides=="number"){de=new bJ(this.c,dz,null,this)}else{de=new bJ(this.c,dz,this.slides[dz]._parseData,this)}var dl=dz*(this.major+du);if(dj=="left"){dl+=du}de[this.axis](dl);de._ind=dz;df[dx].addChild(de);de.bind("click",function(){if(dw.owner.navSelect){dw.owner.navSelect(this._ind,this)}else{dw.owner.select(this._ind,false,true,this)}},de);aF.getTimeline(this.c).pauseOnHover(de,function(){return dw.owner.selected()})}}if(df&&df.length){this.select(0)}var dy=this.playPause;if(dy&&dy.enabled&&this.playPauseRendered){var dD;var dv;this.buildPlayPause(this.playSkin,this.pauseSkin);dv=this.playButton;dD=this.pauseButton;var dp=aF.getPlayer(dw.c).carousel;if(this.owner==dp){if(dv){dv.click(function(){if(!dp.autoPlay){return}if(dp.__ppSlide){aF.getTimeline(dw.c).pause(dp.__ppSlide,false)}dw.owner.togglePause(false);dp.__ppSlide=null},dv)}if(dD){dD.click(function(){if(dp.__ppSlide){return}if(!dp.autoPlay){return}dp.__ppSlide=dp.items[dp.index];aF.getTimeline(dw.c).pause(dp.__ppSlide,true);dw.owner.togglePause(true)},dD)}}else{if(dv){dv.click(function(){aF.getTimeline(dw.c).pause(dw,false);dw.owner.togglePause(false)},dv)}dD.click(function(){aF.getTimeline(dw.c).pause(dw,true);dw.owner.togglePause(true)},dD)}this.togglePause(dw.owner.isPaused)}if(dy&&dy.enabled&&dv&&dD){var dr=Math.max(dv._w,dD._w);var dB=Math.max(dv._h,dD._h)}var dm;var du=this.spacing;this.pc[this.axis]((((dg+du)*dq))*-1);this.nc[this.axis]((((dg+du)*dq)));this.npPPOffset=0;if(dd){this.width(((this.bx+du)*dq)-du);this.height(this.by);if(this.playPause&&this.playPause.enabled){if(this.playPause.position=="left"){this.width(this.width()+du);this.ppOffset=dr}else{if(this.playPause.position=="right"){this.width(this.width()+du+dr);this.npPPOffset=dr}}}}else{if(!dd){this.height(((this.by+du)*dq)-du);this.width(this.bx);if(this.playPause&&this.playPause.enabled){if(this.playPause.position=="left"){this.height(this.height()+du);this.ppOffset=dB}else{if(this.playPause.position=="right"){this.height(this.height()+du+dB);this.npPPOffset=dB}}}}}var dm=0;if(this.maxItems<=dq){if(this.maxItems>0){dm=(this.maxItems*(this.major+du))-du}else{dm=(this.num*(this.major+du))-du}}else{dm=(this.num*(this.major+du))-du}if(this.playPause&&this.playPause.enabled){dm+=du}this.container.css("overflow","hidden");if(this.direction=="horiz"){this.container.height(this.minor);this.container.width(dm);this.height(this.minor);this.width(dm)}else{this.container.height(dm);this.container.width(this.minor);this.height(dm);this.width(this.minor)}var dC=this.c;var dn=this.hasNav=dC.nextPrevious&&dC.nextPrevious.enabled;if(dn){dC.nextPrevious.margin=dC.nextPrevious.margin||"0,0";this.navMargin=dC.nextPrevious.margin.split(",");this.navMargin[0]=Number(this.navMargin[0]);this.navMargin[1]=Number(this.navMargin[1]);this.snapDir=dC.direction;var dk=aF.getBase(dC);var dt=function(dE){dw.layout()};var di=this.navNext=new aF.button(dC.nextPrevious[0].src,dk,dt);var dh=this.navPrev=new aF.button(dC.nextPrevious[1].src,dk,dt);di.metaName="Next";dh.metaName="Previous";var d=this.owner;di.click(function(){d.next(true,this,1)},di);dh.click(function(){d.prev(true,this,-1)},dh);this.addChild(di);this.addChild(dh);aF.getTimeline(dC).pauseOnHover(di,function(){return d.selected()});aF.getTimeline(dC).pauseOnHover(dh,function(){return d.selected()})}this.layout();this.setTrackNames()},setTrackNames:function(){var d=this.owner;if(this.navNext){this.navNext._tid=d._tid+"_Tab_Next"}if(this.navPrev){this.navPrev._tid=d._tid+"_Tab_Prev"}},buildPlayPause:function(dg,df){var de=new aF.button(dg,this._base);var dd=new aF.button(df,this._base);var dh=Math.max(de.width(),dd.width());var d=Math.max(de.height(),dd.height());this.playButton=de;this.pauseButton=dd;this.addChild(de);this.addChild(dd);this.alignPlayPause(dh,d,de);this.alignPlayPause(dh,d,dd)},alignPlayPause:function(di,dg,dd){if(!dd){return}var df=this.direction=="horiz";var dh=this.playPause.position=="left";dd._y((this.by/2)-(dd.height()/2));if(!df){dd._x((this.bx/2)-(dd.width()/2))}if(dh){if(df){dd._x(0-di+((di-dd.width())/2))}else{dd._y(0-dg+((di-dd.height())/2))}}if(!dh){var d=(this.maxItems>0)?Math.min(this.maxItems,this.num):this.num;if(df){var de=d*(this.bx+this.spacing);dd._x(de+((di-dd.width())/2))}else{var de=d*(this.by+this.spacing);dd._y(de+((dg-dd.height())/2))}}},togglePause:function(dd){if(this.playPause&&this.playPauseRendered){var d=aF.getPlayer(this.c).carousel;var df=this.playButton;var de=this.pauseButton;if(this.owner==d){if(!d.autoPlay){if(df){df.visible(true)}if(de){de.visible(false)}return}}if(df){df.visible(dd)}if(de){de.visible(!dd)}}},layout:function(){var di=0;var dh=0;var dp=this._w;var dn=this._h;var dj=0;var dw=0;var dg=this.pos;var dq=this.margin;var dx=this.num;var ds=this.spacing;var dm=this.maxItems;if(dm>0){dx=Math.min(dm,dx)}var du=this.playPause;var dy=du&&du.enabled;var d;if(dy){d=du.position=="left"}var de=this.direction=="horiz";if(de){dj=(dx*this.bx)+((dx-1)*ds);dw=this.by}else{dj=this.bx;dw=(dx*this.by)+((dx-1)*ds)}var dl=0;var dk=0;if(dy){if(this.playButton&&this.pauseButton){var dv=Math.max(this.playButton.width(),this.pauseButton.width());var dt=Math.max(this.playButton.height(),this.pauseButton.height());dl=dv;if(dt>dw){dk=(dt-dw)/2}if(dv>dj){dl=(dv-dj)/2}}}var dd=dg.substr(1);switch(dd){case"L":di+=dq[0];if(dy&&d){if(de){di+=dl}}break;case"C":di=((dp-dj+dl)/2)+dq[0];if(de){if(dy){if(!d){di-=dl+(ds/2)}else{di-=(ds/2)}}}else{if(dy){di-=(dl/2)}}break;case"R":di=(dp-dj)-dq[0];if(dy){if(de){if(!d){di-=dl+ds}else{di-=ds}}}break}var dr=dg.substr(0,1);var df=aF.isClassType(this.owner,aF.slider);if(df){dk=(dk*-1)}switch(dr){case"T":dh+=dq[1]+dk;if(!de&&dy){if(d){dh+=dt}}break;case"M":dh=((dn-dw)/2)+dq[1];if(!de&&dy){if(!d){dh-=((dt+ds)/2)}else{if(d){dh+=((dt-ds)/2)}}}break;case"B":dh=(dn-dw)-dq[1]-dk;if(!de&&dy){if(!d){dh-=(dt+ds)}else{dh-=ds}}break}this.positionNav();this._x(di);this._y(dh)},select:function(dl){if(typeof(dl)=="number"){dl=[dl]}if(!this.cc){return}var dk=this.cc.childList();var dg=this.nc.childList();var dw=this.pc.childList();var ds=this._sel;if(ds){for(var du=0;du<ds.length;du++){if(dk[du]){if(dk[ds[du]]){dk[ds[du]].select(false);dg[ds[du]].select(false);dw[ds[du]].select(false)}}}}ds=this._sel=dl;for(var du=0;du<ds.length;du++){if(dk[du]){if(dk[ds[du]]){dk[ds[du]].select(true);dg[ds[du]].select(true);dw[ds[du]].select(true)}}}var dt=Number(this.maxItems);var di=Number(this.num);var d=this.direction=="horiz";var dn=this.spacing;var dm=this.holder;var df=this.axis;var dj=this.prevInd;if(dt>0&&dt<di){var dr=(d)?this.bx:this.by;var de=dm[df]();var dp=0;var dq=dj;var dd=dl;if(dq){if(typeof(dq)!="number"){dq=dq[0]}}if(typeof(dd)!="number"){dd=dd[0]}if(dq<dd){if(dq==(di-1)){dp=1}else{if(dd!=(di-1)){if(dq==(dd-1)){dp=-1}}else{if(dq<dd){if(dd==(di-1)&&dq==0){dp=1}else{dp=-1}}else{dp=1}}}}if(dq>dd){if(dd==(di-1)){dp=-1}else{if(dd==0&&dq==(di-1)){dp=-1}else{if(dd==(dq-1)){dp=1}}}}if(dp<0||dp>0){var dh=(dm[df]()/(dr+dn))*-1;var dx=dh+dt-1;if(dh<dx){if(dd<dh||dd>dx){de=de+((dr+dn)*dp)}}else{if(dd==dx){de=de+((dr+dn)*dp)}}if(dt==1){de=de+((dr+dn)*dp)}}if(d){aF.tween(dm,0.3,{_x:de,onComplete:this.checkPosition})}else{aF.tween(dm,0.3,{_y:de,onComplete:this.checkPosition})}this.prevInd=dl||0}if(this.hasNav){if(!this.owner.loop){this.navPrev.enabled(dl>0);this.navNext.enabled(dl<di-1)}if(this.c.nextPrevious.inRange){var dv=di>dt;this.navPrev.visible(dv);this.navNext.visible(dv)}}},checkPosition:function(df){var dd=df.owner;var de=df[dd.axis]();var d=dd.num*(dd.major+Number(dd.spacing));if(de<=d*-1||de>=d){df[dd.axis](0)}},draw:function(d){this.slides=d;this.num=d.length;if(typeof d=="number"){this.num=d}this.render();this.checkBounds()},checkBounds:function(){if(this.maxItems<=0){return}var df=aF.getPlayer(this.c);var dj=this.direction=="horiz"?"width":"height";var dr=this.direction=="horiz"?0:1;var de=this.c._parent.nextPrevious;var dn=0;var dd=this.direction=="horiz";var dt=Number(this.spacing);if(this.hasNav){var dp=this.navNext[dj]();var dv=this.navPrev[dj]();var dm=this.navMargin[dr];var dh=dm;var di=this.pos;var dw;if(dd){dw=di.substr(1);switch(dw){case"L":dv=dm=0;break;case"R":dp=dh=0;break}}else{if(!dd){dw=di.substr(0,1);switch(dw){case"T":dv=dm=0;break;case"B":dp=dh=0;break}}}dn=Number(dp)+Number(dv)+Number(dm)+Number(dh)}var dy=0;var dz=Math.min(this.maxItems,this.num);var dB=dd?this.bx:this.by;var du=dd?this.margin[0]:this.margin[1];dy=(dz*dB)+((dz-1)*dt)+du;var dl=0;var dx=this.c.playPause;var ds=this.playButton;var dA=this.pauseButton;if(dx&&dx.enabled&&ds&&dA){dl=Math.max(ds[dj](),dA[dj]())+dt}var dg=df[dj]()-dn-dy-dl;if(dg<0){dg=dg*-1;var dk=dB+Number(dt);var dq=Math.ceil(dg/dk);var d=this.maxItems=dz-dq;if(d<1){d=1}this.render();this.layout()}},resize:function(){if(this._w){this.size(this._w,this._h)}},size:function(d,dd){this._w=d;this._h=dd;this.layout()}},aF.newDisplay);var b1="width:100%;height:100%;position:absolute;border:none;";aF.globalCSS(".tcPoly",b1);var C=aF.clazz({create:function(de,d,dd){this.config=de.feature("polygons");this.index=dd;this.p=de},parse:function(dq,di){this.base.parse(dq);this.d=dq;this.metaName="Polygon";this.action=aF.tempAction(this.config,false,dq,"action",true);var dm=aF.json(dq.nodeText("points"));var dl=0;var dk=0;var dh=0;var de=0;for(var dp=0;dp<dm.length;dp++){var dg=dm[dp];dl=Math.min(dl,dg.x);dk=Math.min(dk,dg.y);dh=Math.max(dh,dg.x);de=Math.max(de,dg.y)}dh=dh-dl;de=de-dk;var dr=dq.position.point;this.width(dh);this.height(de);var dt="";for(var dj=0;dj<dm.length;dj++){if(dj!=0){dt+=","}var dg=dm[dj];dt+=(dg.x-dl)+","+(dg.y-dk)}if(!window.__tcpolycounter){window.__tcpolycounter=0}this.polyCount=window.__tcpolycounter;window.__tcpolycounter++;var dn=aF.create("img");dn.attr("src","data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==");dn.attr("usemap","#polyMap"+this.polyCount+"_"+this.p._ind+"_"+this.index);dn.addClass("tcPoly");this.appendChild(dn);var du=Number(this.d.position.point.x)+dl;var ds=Number(this.d.position.point.y)+dk;this.css("left",du+"px");this.css("top",ds+"px");var dd=aF.create("map");dd.attr("width",dh+"px");dd.attr("height",de+"px");dd.attr("id","polyMap"+this.polyCount+"_"+this.p._ind+"_"+this.index);dd.attr("name","polyMap"+this.polyCount+"_"+this.p._ind+"_"+this.index);var df=aF.create("area");df.attr("href","javascript:void(0);");df.attr("shape","poly");df.attr("coords",dt);df.attr("class","__tcElement");dd.attr("class","__tcElement");dn.addClass("__tcElement");dd.appendChild(df);if(aF.isTouch){df.excGesture=true;this.config.method="click"}switch(this.config.method){case"click":df.bind("click",this.actvat,this,true,true);break;case"hover":df.bind("mouseover",this.actvat,this,true);break}this.appendChild(dd);aF.getTimeline(dq).pauseOnHover(df,this)},actvat:function(d){this.action.activate({scope:this,event:this.config.method,parent:this.parentNode})}},aF.newDisplay,[aF.m.linkable]);aF.registerComponent({clazz:C,nodeName:"tc:poly",namespace:"tc"});function ap(du,dt,df,dq){dt.ctnrType=df;var dn=dt.root._player;du.c=dt;if(dt.panelType=="video"){du.onTransition=function(dy){var dx=du._f[0].onTransition;if(dx){dx(dy)}}}var de=dt.width;var dk=dt.height;du.width(de);du.height(dk);var dd=aF.newDisplay();dd.css("width","100%");dd.css("height","100%");du.__bg=dd;du.addChild(dd);var dg=dt.alpha===null?1:dt.alpha;if(dg!=1){dd.alpha(dg)}dd.css("overflow","visible");var di=Number(dt.roundedCorners||0);var dv=dt.backgroundType||"flat";var d=dn.color(dt.borderId);var dh=dt.dropShadow||false;if((di!=0&&(aF.isIE))&&dv!="flat"){var dm=aF.newGraphic();var dr=dm.graphics();if(dh){dr.shadow(0,0,12,dn.color(dt.shadowColorId),1)}dr.lineStyle(1,d,1);dr.basicLinearFill(dn.color(dt.backgroundId),dn.color(dt.backgroundId2),dt.height);dr.drawRoundRect(20,20,dt.width,dt.height,di,di);dr.endFill(function(){dr.forceClearShadow()});dr.redraw();dm._x(-20);dm._y(-20);dd.addChild(dm)}else{if(di!=0){dd.cornerRadius(di)}switch(dv){case"flat":dd.css("backgroundColor",dn.color(dt.backgroundId));break;case"linear":dd.linearGradient(dn.color(dt.backgroundId),dn.color(dt.backgroundId2));break}dd.css("border","1px solid "+d);if(aF.isFirefox){dd.css("MozBoxSizing","border-box")}else{dd.css("boxSizing","border-box")}if(dh){var dw="0px 0px 8px "+dn.color(dt.shadowColorId);if(aF.isWebKit){dd.css("webkitBoxShadow",dw)}else{if(aF.isFirefox){dd.css("boxShadow",dw)}else{dd.css("boxShadow",dw)}}}}var dj={};var dl=(dt.padding);if(dt.panelType=="image"||dt.panelType=="video"){dj[dt.panelType]={size:[(de)-(dl*2),(dk)-(dl*2)],pos:[dl,dl]}}else{for(var dp=0;dp<dt.length;dp++){var ds=dt[dp];if(!ds.id){continue}dj[ds.id]={size:[Number(ds.width),Number(ds.height)],pos:[Number(ds.x),Number(ds.y)]}}}du.css("overflow","visible");aF.renderElements(du,dt,null,dt.type=="data"||dq,"panel",dj,df)}aF.panel=aF.clazz({create:function(dd){this.p=aF.getPlayer(dd);dd.width=Number(dd.width);dd.height=Number(dd.height);dd.padding=Number(dd.padding);this.c=dd;this.width(dd.width);this.height(dd.height);this.checkActivate=aF.closure(this.checkActivate,this);this.spotOut=aF.closure(this.spotOut,this);this.onPanelOver=aF.closure(this.onPanelOver,this);this.onPanelOut=aF.closure(this.onPanelOut,this);this.hideClosure=aF.closure(this.hide,this);if(dd.panelType!=undefined){ap(this,dd,"panel")}if(dd.position=="fixed"){this._x(dd.x);this._y(dd.y)}aF.addLoader(this,this.loadStatus,this);this.alpha(0);this.css("opacity","0");this.visible(false);switch(dd.panelType){case"text":case"product":case"image":case"video":var d=this.ldr=new aF.loaderBar();d.color(this.p.color("_default"));d.visible(false);d._x((dd.width-45)/2);d._y((dd.height-5)/2);this.addChild(d);break}},checkOpenPanels:function(){var d=this.p.panelSet.openPanels;var de=false;for(var dd=0;dd<d.length-1;dd++){var df=d[dd];if(df.hiding){continue}if((this.pd==df.pd)&&(this.c.panelType==df.c.panelType)&&(this.d==df.d)){if(this.eFrom&&df.eFrom){if(this.eFrom._tid==df.eFrom._tid){de=true;continue}}else{de=true;continue}}}return de},show:function(dp,du,dv,dd,dx,dt){this.method=dp;this.mgr=du;this.d=dv;this.eFrom=dd;this.pd=dx;this.he=dt;if(this.checkOpenPanels()){this.doHide();return}if(this.ldr){this.ldr.visible(false);this.ldr.animate(false)}clearInterval(aF.interval);if(!du){return}var de=this.c.position;if(!de){var dq={x:0,y:0};if(dx&&dx.position){dq=dx.position.point}this._x(Number(dq.x));this._y(Number(dq.y))}switch(de){case"free":if(dx){if(dx.position){var dq=dx.position.point;this._x(Number(dq.x));this._y(Number(dq.y));break}else{if(du){if(du.proxyData&&du.proxyData.imapp&&du.proxyData.imapp.position){var dq=du.proxyData.imapp.position.point;this._x(Number(dq.x));this._y(Number(dq.y));break}}}}else{if(this.c.panelType=="custom"){this._x(0);this._y(0);break}}case"centre":var dl=Number(this.p.width());var dw=Number(this.p.height());var dm=this.width();var dy=this.height();this._x((dl-dm)/2);this._y((dw-dy)/2);break}if(this.c.type=="data"){var dg=this.childList();for(var ds=0;ds<dg.length;ds++){var df=dg[ds];df.visible(false)}if(this.ldr){this.ldr.visible(true);this.ldr.animate(true)}var dk=typeof(dv)=="string"?dv:(dv?dv._body:dv);if(dk&&dk.length){aF.loading(this,true);aF.getData(this.c).get(aF.json(dk),this.setProd,this)}else{return}}else{aF.showElements(this)}var dh=this._f;if(dh){for(var dr=0;dr<dh.length;dr++){var df=dh[dr];if(df.setFocus){df.setFocus(this,true)}}}this.visible(true);this.alpha(0);aF.tween(this,0.3,{alpha:1});switch(dp){case"click":this.p.bind(aF.evt.mousedown,this.checkActivate);break;case"hover":this.hoverFrom=dd;dd.bind(aF.evt.mouseout,this.spotOut);this.bind(aF.evt.mouseover,this.onPanelOver);break;default:var dn=this;var dj=setTimeout(function(){dn.p.bind(aF.evt.mousedown,dn.checkActivate)},200);break}if(this.eFrom&&this.eFrom.panels){aF.getTimeline(this.c).pause(this.eFrom.panels,true)}else{if(this.eFrom){aF.getTimeline(this.c).pause(this.eFrom,true)}}if(this.cv){this.cv.setFocus(this,true)}var di="";if(dx){if(dx.displayType&&aF.json(dx.displayType)=="timed"){if(dx.keepOpen){this.bind(aF.evt.mouseover,aF.closure(function(){clearTimeout(di)},this));this.bind(aF.evt.mouseout,function(){di=setTimeout(aF.closure(function(){this.hide()},this),dx.displayFor*1000)})}di=setTimeout(aF.closure(function(){this.hide()},this),dx.displayFor*1000)}this.close=dx.autoClose}if(this.close==null){this.close=true}},parse:function(dg,de){for(var dd=0;dd<dg.length;dd++){var df=dg[dd];if(df){if(df.position){delete df.position}if(df.size){delete df.size}}}de(dg)},loadStatus:function(d){if(d==false){if(this.ldr==null){return}this.ldr.animate(false);this.ldr.visible(false)}},setProd:function(de){if(de!=null){aF.populate(this,de,this.c)}var dd=this.childList();for(var d=0;d<dd.length;d++){var df=dd[d];df.visible(true)}if(this.ldr){this.ldr.animate(false);this.ldr.visible(false)}aF.loading(this,false)},spotOut:function(d){this.hoverFrom.unbind(aF.evt.mouseout,this.spotOut);clearInterval(aF.interval);aF.interval=setInterval(this.hideClosure,500);this.p.registerDestroyer(function(){clearInterval(aF.interval)})},onPanelOver:function(d){clearInterval(aF.interval);this.hoverFrom.unbind(aF.evt.mouseout,this.spotOut);this.unbind(aF.evt.mouseover,this.onPanelOver);this.bind(aF.evt.mouseout,this.onPanelOut)},onPanelOut:function(d){var dd=d.toElement||d.relatedTarget;if(aF.isChildOf(dd,this)){return}this.hide(d)},checkActivate:function(dd){var d=aF.isChildOf(dd.target,this);if(!d){if(aF.isChildOf(dd.target,this.eFrom)||dd.target==this.eFrom){return}this.hide()}},hide:function(dg){clearInterval(aF.interval);if(this.ldr){this.ldr.visible(false)}if(this.eFrom&&this.eFrom.panels){aF.getTimeline(this.c).pause(this.eFrom.panels,false)}else{if(this.eFrom){aF.getTimeline(this.c).pause(this.eFrom,false)}}var df=this._f;if(df){for(var dd=0;dd<df.length;dd++){var dh=df[dd];if(dh.setFocus){dh.setFocus(this,false)}}}this.unbind(aF.evt.mouseout,this.onPanelOut);this.p.unbind(aF.evt.mousedown,this.checkActivate);this.unbind(aF.evt.mouseover,this.onPanelOver);if(this.c.panelType=="video"){var d=this._f[0];d.stop()}if(this.c.ctnrType=="panel"&&this.c.children){for(var de=0;de<this.c.children.length;de++){var dh=this.c.children[de];if(dh.stop){dh.stop()}}}aF.tween(this,0.2,{alpha:"0",onComplete:aF.closure(this.doHide,this)});if(this.he){this.he()}this.hiding=true;if(this.p._openPanel==this){this.p._openPanel=null}if(this.cv){this.cv.setFocus(this,false)}},doHide:function(d){this.p.panelSet.removePanel(this)},parse:function(dh,dg){var df=this._f;if(df){for(var dd=0;dd<df.length;dd++){var de=df[dd];if(de.reset){de.reset()}}}dg(dh)}},aF.newDisplay,[aF.m.elementCtnr]);aF.panels=aF.clazz({create:function(d){this.c=d;this.dpt=d.defaultPanelType;this.p=aF.getPlayer(d);this.p.addChild(this.ctnr=aF.newDisplay());this.ctnr.css("zIndex",1700);this.openPanels=[]},createPanelByType:function(dd){var de;if(dd=="custom"){de=aF.canvasPanel(this.c)}else{for(var d=0;d<this.c.length;d++){if(this.c[d].panelType==dd){var df=this.c[d];break}}if(df){df.width=Number(df.width);df.height=Number(df.height);df.x=Number(df.x);df.y=Number(df.y);df.padding=Number(df.padding);de=new aF.panel(df)}}if(!de){for(var d=0;d<this.c.length;d++){if(this.c[d].panelType==this.dpt){var df=this.c[d];break}}if(df){de=new aF.panel(df)}}if(!de){return}this.ctnr.addChild(de);this.lastPanelOpen=de;this.openPanels.push(de);return de},removePanel:function(dd){var d=this.openPanels.indexOf(dd);if(d!=-1){this.openPanels.splice(d,1)}this.ctnr.removeChild(dd);delete (dd)},panelByType:function(d){var dd=this[d];if(!dd&&d=="custom"){dd=this[d]=aF.canvasPanel(this.c)}if(dd){return dd}return this[this.dpt]},defaultPanelType:function(){return this.dpt}});this.globals({drawPanel:ap});aF.canvasPanel=aF.clazz({create:function(d){this.c=d;if(!this.bg){this.bg=new aF.media("bg")}if(!this.cv){this.addChild(this.cv=aF.canvas(d))}this.cv.addChildAt(this.bg,0)},parse:function(d,dd){this.clearAllChildren();this.create(this.c);dd(d);aF._el(this.cv,d)},clearAllChildren:function(){while(this.cv.ctnr.childNodes.length>0){this.cv.ctnr.removeChild(this.cv.ctnr.firstChild)}},clip:function(d,de,dd){dd(d,de);this.cv.clip(d,de);this.bg.clip(d,de)}},aF.panel,[aF.m.draggable,aF.m.sizeable],true);var cL=aF.clazz({create:function(){this.addChildAt(this.bg=new aF.media("bg"),0)},checkSelf:function(d){if(this.animating.length==0){d.finishAnimate(this)}}},aF.canvas,[aF.m.draggable,aF.m.sizeable],true);aF.registerComponent({clazz:cL,nodeName:"tc:gr",namespace:"tc"});var bw="horizontal";var a8="vertical";var a7=5;var bx=aF.clazz({create:function(de,d,dd){this.lastIndex=0;this.itemPos=[];this.c=de;this.pconf=d;this.d=de.orientation==bw?1:-1;this.m=de.margin?Number(de.margin):0;this.ms=de.orientation==bw?d.width:d.height;this.mins=de.orientation==bw?d.height:d.width;this.r=this.ms+this.m;this.firstLayout=true},calculateInteraction:function(dd,d,de){de.canMovePrev=dd>0;de.canMoveNext=dd<d.length-1},layout:function(de,dj,dg,di){this.first=true;var d={advanceNext:1,numPages:de.length,itemsPerPage:0};var dd=aF.getTimeline(this.c);this.firstLayout=true;di.showControls(de.length>1);for(var df=0;df<de.length;df++){var dh=de[df];if(!aF.isAndroid){dh.transition(0.3)}if(dh.__init3D!=true){dh.__init3D!=true;dh.__index=df;dh.bind("click",function(){di.select(this.__index)})}}return d},focus:function(dk,dq,dD,ds,dG,dw){if(dk<0||dk>=dq.length){return}if(!dD){return}var dv=this.pconf.getContainerSize();this.ms=this.c.orientation==bw?dv.x:dv.y;var dz=this.lastIndex;var df=!(dk==0&&dz==dq.length-1)&&(dk<dz||(dk==dq.length-1&&dz==0));this.lastIndex=dk;var d=this.d==1;var dm=0;var dh=this.c.scroll=="infinate";var dg=d?dD.ctnrWidth:dD.ctnrHeight;var dn=this.ms;var dx=this.m;var dr=dq.length;var dd=0;var dj=Math.floor(dr/2);var dl=0;var dp=-dj;var du=((dr-1)-dj);if(!dh){dp=dk;du=dk-(dq.length-1)}for(var dy=0;dy<dq.length;dy++){var dE=(dy-dj);var dC=dk+dE;if(dC<dr){dC+=dr}dC=dC%dr;if(!dh){dE=dk-dy;dC=dy}var dB=dq[dC];if(!dB){continue}var dI=Math.max(1-(Math.abs(dE)/5),0);var de=0;var di=0;var dH=dE+dj;if(dE>=0){dH=dj+(dr-dH)-1}if(dH<0){dH=0}dG.setDepth(dB,dH);if(d){de=dl+((dn*dI)/2)}else{di=dl+((dn*dI)/2)}if(dC==dk){dd=(d?de:di)}dl+=(dI*dn);dl+=dx;dB.alpha("1");var dA=false;if(dh=="infinate"&&this.c.looping){if(df){if(dE==dp&&!this.first&&dx>0){dB.alpha("0");clearInterval(dB.moveInt);dB.moveInt=setTimeout(aF.closure(function(){this.alpha("1")},dB),200)}}else{if(dE==du&&!this.first&&dx>0){dB.alpha("0");clearInterval(dB.moveInt);dB.moveInt=setTimeout(aF.closure(function(){this.alpha("1")},dB),200)}}}if(!dA){dB.transform(de,di,dI)}}var dF=(dg/2)-(dn/2);dF-=dd;var dt=dG.transition(0.3);if(!this.firstLayout){dt=true;this.firstLayout=true}if(dt){if(d){dG._x(dF)}else{dG._y(dF)}}else{if(d){aF.tween(dG,0.3,{_x:dF})}else{aF.tween(dG,0.3,{_y:dF})}}dw.visibleItems([dk]);this.first=false}});function b5(df,d,dd){var de=d-df.start;if(de<0){de+=dd}return de}function bb(dg,di,d,dh,de,dk,dj){dj=(arguments.length>=7)?dj:-1;var dl=di[d];if(!dl){return false}if(dk){var dd=dl._x()+(dj==-1?de._x():dj);var df=dd+dg.ms;return dd>=0&&df<=dh.ctnrWidth}else{var dd=dl._y()+(dj==-1?de._y():dj);var df=dd+dg.ms;return dd>=0&&df<=dh.ctnrHeight}return false}function cr(dj,dl,dm,dk,dp,dg,de,dr,d){var dd=dm.length;var di=dj.itemPos;var dh=dj.selected||0;var ds=b5(dj,dh,dm.length);if(!dg||dg==-1){dg=dh}var df=0;var dn=dr?de._x():de._y();df=dn-(-di[ds]);var dt=Math.abs(df);if(dt>0){dl-=Math.floor(df/dj.ms);dj.selected=dl}var dq=(dl+dp);if(dq<0){dq+=dd}dj.start=dq;d.relayout();if(dr){de._x(-di[b5(dj,dg,dm.length)]+df)}else{de._y(-di[b5(dj,dg,dm.length)]+df)}}function a(dh,dm,du,dp,dz,dq){var dy=this.config;var dx=dy.paging=="page";var dj=dy.scroll=="infinate";var d=this.d==1;var di=this.itemPos;var dl=this.ms;var dr=this.m;var dn=this.selected||0;if(dx){dh-=dh%du.itemsPerPage}var dg=d?du.ctnrWidth:du.ctnrHeight;if(isNaN(dg)){dg=0}if(this.mjrEnd<dg){return}var dB=b5(this,dh,dm.length);if(dj){var de=0;var dv=0;if(dn>=dh){de=dn-dh;dv=dm.length-dn+dh}else{de=dn+(dm.length-dh);dv=dh-dn}var dA=(dh+du.itemsPerPage)%dm.length;if(dx){dA+=dm.length%du.itemsPerPage;dA%=dm.length}var dd=b5(this,dA,dm.length);var df=b5(this,dn,dm.length);if(dp==2){if(de<dv){dp=-1}else{dp=1}if(dx){if(dh==0){dp=-1}else{dp=1}}}if(dp==0||dp==1){if(di[dd]<=di[df]){cr(this,dn,dm,du,0,dn,dz,d,dq)}}else{if(di[dd]>=di[df]){cr(this,dh,dm,du,0,dn,dz,d,dq)}}}this.selected=dh;dB=b5(this,dh,dm.length);var dC=0;if(di){dC=-di[dB]}var dw=du.itemsPerPage*(dl+dr)-dr;if(this.allowRightAlign&&!dj||!dx){dC=Math.max(dC,-(this.mjrEnd-dg))}var ds=aF.getPlayer(this.config);if(!aF.findParent(dq,aF.canvasPanel)){ds.enableMouse(true)}if(d){aF.tween(dz,0.4,{_x:dC,onComplete:function(){ds.enableMouse(false)}})}else{aF.tween(dz,0.4,{_y:dC,onComplete:function(){ds.enableMouse(false)}})}var dk=[];if(dx){dk.push(Math.floor(dh/du.itemsPerPage))}else{for(var dt=0;dt<dm.length;dt++){if(bb(this,dm,dt,du,dz,d,dC)){dk.push(dt)}}if(dk.length==0){dk.push(dh)}}dq.visibleItems(dk)}var F=aF.clazz({create:function(de,d){this.pconf=d;this.config=de;this.d=de.orientation==bw?1:-1;this.m=de.margin?Number(de.margin):0;var dd=this.pconf.getContainerSize();this.ms=de.orientation==bw?dd.x:dd.y;this.r=this.ms+this.m;this.start=0;this.itemPos=[];this.majorV="_x";this.minorV="_y";if(this.d==-1){this.majorV="_y";this.minorV="_x"}},calculateInteraction:function(de,d,dg){var dd=this.config;var df=dd.paging=="page";if(df){dg.canMovePrev=de>dg.itemsPerPage-1;dg.canMoveNext=de<=((dg.numPages-1)*dg.itemsPerPage)-1}else{dg.canMovePrev=de>0;if(dd.scroll=="infinate"){dg.canMoveNext=de<d.length}else{dg.canMoveNext=de<d.length-dg.itemsPerPage}}},layout:function(dl,dw,dx,dn){var dj={};var dz=this.config;var dm=this.pconf.getContainerSize();this.ms=dz.orientation==bw?dm.x:dm.y;var dt=dl.length;var d=this.d==1;var df=d?dw:dx;var dk=this.ms;var dq=this.m;var de=this.start;var dg=this.itemPos;dg.splice(0,dg.length);var dp=this.majorV;var dd=this.minorV;var dy=dz.paging=="page";dj.numColumns=dl.length;dj.itemsPerPage=Math.max(Math.floor((df-dk)/(dk+dq))+1,1);dj.itemsPerPageMax=(Math.ceil((df-dk)/(dk+dq))+1);dj.numPages=dy?Math.ceil(dt/dj.itemsPerPage):dl.length;dj.advanceNext=dy?dj.itemsPerPage:1;if(dy){dj.advanceNextEnd=dj.numColumns}else{if(dz.scroll=="restart"){dj.advanceNextEnd=dj.numColumns-(dj.itemsPerPage-1)}else{if(dz.scroll=="infinate"){if(dz.looping){dj.advanceNextEnd=dj.numColumns}else{dj.advanceNextEnd=dj.numColumns-(dj.itemsPerPage-1)}}}}var dr=0;if(dg){dg.splice(0,dg.length)}this.firstIndex=de;this.lastIndex=(de+(dt-1))%dt;this.firstItem=dl[this.firstIndex];this.lastItem=dl[this.lastIndex];for(var ds=0;ds<dt;ds++){var dv=(ds+de)%dt;var du=dl[dv];if(!du){continue}du[dp](dr);if(dg){dg.push(dr)}dr+=dk;dr+=dq;if(dy&&dv==dt-1){var dh=(dj.itemsPerPage*dj.numPages)-dt;for(var di=0;di<dh;di++){dr+=dq;dr+=dk}}}this.mjrEnd=dr-dq;this.itemPos=dg;dn.showControls(this.mjrEnd>df);return dj},track:function(dg,dh,dd,di,dj,df,de){var dk=-(this.r*di);if(dg=="reset"){aF.tween(df,0.2,{_x:dk});return}dk-=dh;dk=Math.min(dk,0);var d=this.d==1?de._w:de._h;dk=Math.max(dk,-(this.mjrEnd-d));df._x(dk)},focus:function(de,d,dh,dd,df,dg){a.apply(this,[de,d,dh,dd,df,dg])}});var cC=aF.clazz({create:function(dd,d){if(dd.paging=="column"){dd.paging="page"}this.config=dd;this.pnlc=d;this.d=dd.orientation==bw?1:-1;this.m=dd.margin?Number(dd.margin):0;this.ms=dd.orientation==bw?d.width:d.height;this.mins=dd.orientation==bw?d.height:d.width;this.r=this.ms+this.m;this.start=0;this.itemPos=[];this.majorV="_x";this.minorV="_y";if(this.d==-1){this.majorV="_y";this.minorV="_x"}this.pageDefs=[]},calculateInteraction:function(dd,d,df){var de=Math.floor(dd/df.itemsPerPage);df.canMovePrev=de>0;df.canMoveNext=de<df.numPages-1},layout:function(du,dH,dJ,dx){var dq={};var dw=this.pnlc.getContainerSize();this.ms=this.config.orientation==bw?dw.x:dw.y;var dD=du.length;var d=this.d==1;var dk=d?dH:dJ;var dt=this.ms;var df=this.mins;var dz=this.m;var dK=this.config;var dr=this.pnlc;var dh=this.start;var dl=this.itemPos;var dm=this.pageDefs;var dy=this.majorV;var de=this.minorV;var dI=dK.paging=="page";var dd=Math.max(Math.floor((dH-dz)/(dw.x+dz)),1);var dp=Math.max(Math.floor((dJ-dz)/(dw.y+dz)),1);var dn=dd*dp;dq.numColumns=du.length;dq.itemsPerPage=dn;dq.numPages=Math.ceil(dD/dq.itemsPerPage);dq.advanceNext=dn;var dB=0;dl.splice(0,dl.length);this.firstIndex=dh;this.lastIndex=(dh+(dD-1))%dD;this.firstItem=du[this.firstIndex];this.lastItem=du[this.lastIndex];dm.splice(0,dm.length);var di=0;var ds=0;var dE=[];for(var dC=0;dC<dD;dC++){var dG=(dC+dh)%dD;var dF=du[dG];if(!dF){continue}var dA=ds%dd;var dL=Math.floor(ds/dd);var dg=dz+((dw.x+dz)*dA);var dv=dz+((dw.y+dz)*dL);if(d){dg+=(di*dH)}else{dv+=(di*dJ)}dE.push(dG);dF._x(dg);dF._y(dv);var dj=d?dg:dv;dl.push(dj-dz);dB+=dt;dB+=dz;ds++;if(ds>=dq.itemsPerPage||(dG==dD-1)){ds=0;di++;dm.push(dE);dE=[]}}this.mjrEnd=dB-dz;dx.showControls((dD>dn));return dq},focus:function(de,d,dh,dd,df,dg){a.apply(this,[de,d,dh,dd,df,dg])}});var r=aF.sliderItem=aF.clazz({create:function(dg,dd,df){this._ind=df;var d=dg.p;this.autoPlay=dg.ap;this.type=d.panelType;this.metaName="Slider";this.metaName2="SliderItem";this.config=d;this.data=d.type=="data"||dg.data;this.newDiv=aF.newDisplay();this.newDiv.parse=aF.m.elementCtnr.parse;this.newDiv._x(d.margin.x);this.newDiv._y(d.margin.y);this.ctnr=this.newDiv;var de=d.getContainerSize();this.width(de.x);this.height(de.y);this.addChild(this.newDiv);if(aF.drawPanel){d.index=this._ind;aF.drawPanel(this.newDiv,d,"slider",this.data)}this.css("display","auto");aF.getTimeline(d).pauseOnHover(this,this)},setProd:function(d){if(!d){return}aF.populate(this.newDiv,d,this.config)},setProdSku:function(df,de){var dd=aF.getData(de);if(dd!=null){dd.get(df,this.setProd,this)}},parse:function(dh,df){for(var de=0;de<dh.length;de++){var dg=dh[de];if(dg){if(dg.position){delete dg.position}if(dg.size){delete dg.size}}}if(!this.data){df(dh);this.newDiv.parse(dh)}if(this.data&&dh.productSKU){var dd=aF.getData(dh);if(dd!=null){dd.get(aF.json(dh.nodeText("productSKU")),this.setProd,this)}}},setFocus:function(d,dd,de){aF.invokeChildren(this,"setFocus",[d,dd,de])}},aF.newDisplay,[aF.m.elementCtnr]);function da(d,de){var dd=this.slider;if(!this.n._h||!this.p._h){this._w=d;this._h=de}switch(this.orientation){case bw:this.n._x(d);this.p._x(-this.p._w);this.n._y((de-this.n._h)/2);this.p._y((de-this.p._h)/2);break;case a8:this.p._x((d-this.p._w)/2);this.p._y(-this.p._h+(this.tMargin||0));this.n._x((d-this.n._w)/2);this.n._y(de+(this.bMargin||0));break}}var H=3000;var bt=aF.clazz({create:function(de,dm,dh,di){this.p=de;var dl;var dg=de.feature("sliders");dl=dg.slider;this.isCTNR=true;this.metaName="Slider";var d=null;var dj=de.feature("panels");for(var df=0;df<dj.length;df++){if(dj[df].panelType==dl.panelType){d=dj[df]}}var dn={};aF.extend(dn,d);d=dn;d.getContainerSize=function(){if(this.margin==null){return this.getPanelSize()}return{x:Number(this.width)+(Number(this.margin.x)*2),y:Number(this.height)+(Number(this.margin.y)*2)}};d.getPanelSize=function(){return{x:Number(this.width),y:Number(this.height)}};this.c=dl;if(!dl.looping){dl.scroll="restart"}var dk=this.p.getVar("app")?null:dl.orientation==bw?"v":"h";aF.gesture(this,"swipe",{dist:50,onComplete:aF.closure(this.endSwipe,this),ignore:dk},this.p);this.panel=d;this.feedDriven=dl.dynamicContent;this.init({create:aF.repeaterDefault(r,{p:d,ap:dl.autoPlay,data:dl.dynamicContent})},true);this.target.animatable();this.autoPlay=dl.autoPlay;this.isPaused=!dl.autoPlay;this.apiPaused=false;var dq=this.target;this.wrapper=aF.newDisplay();this.wrapper.addChild(dq);this.addChild(this.wrapper);if(dl.layout=="3d"){this.layoutMgr=new bx(dl,this.panel,this);this.allowRightAlign=true}else{if(dl.layout=="grid"){this.layoutMgr=new cC(dl,this.panel,this);this.allowRightAlign=false}else{this.layoutMgr=new F(dl,this.panel,this);this.allowRightAlign=true}}this.loop=dl.looping;this.ctrls=aF.newDisplay();this.addChild(this.ctrls);var dr=dl.sliderSelector;if(dr&&dr.length>0&&aF.selector){this.ss=new aF.selector(dr,this,function(dt){var ds=dt.pos[0];if(ds=="T"||ds=="B"){dt.margin[1]-=this.by}});this.ctrls.addChild(this.ss)}var dp=dl.sliderNextPrevious;var dd=null;if(dp&&dp.length>0&&aF.nextPrev){this.np=dd=new aF.nextPrev(dp,this);this.np.size=da;this.np.visible(false);this.np.orientation=dl.orientation;this.np.slider=this;this.ctrls.addChild(this.np)}this.moveNext=aF.closure(this.moveNext,this)},endSwipe:function(de,dd){if(de){if(this.c.orientation==bw){if(dd=="left"){this.metaName="Next";this.next(true,this,1)}else{if(dd=="right"){this.metaName="Previous";this.prev(true,this,-1)}}}else{if(dd=="up"){this.metaName="Next";this.next(true,this,1)}else{if(dd=="down"){this.metaName="Previous";this.prev(true,this,-1)}}}}},onTransition:function(de){for(var d=0;d<this.end;d++){var dd=this.items[d];if(dd&&dd.onTransition){dd.onTransition(de)}}},navSelect:function(d,dd){if(aF.scrollAnimWait){return}if(this.c.paging=="page"&&this.c.layout!="3d"){d=this.layoutData.itemsPerPage*d}this.select(d,false,true,dd)},parse:function(dd,d){this.panel.margin={x:dd.marginX||0,y:dd.marginY||0};d(dd);this._data=dd;this.loadFeed();if(this.np){this.np.setTrackNames()}aF.setPausable(this.p,this._tid,this)},play:function(){this.apiPaused=false;this.togglePause(false)},pause:function(){this.togglePause(true);this.apiPaused=true},loadFeed:function(){var de;var dd=this._data;if(this.feedDriven&&(de=dd.dataFeed)&&(de=de.feed)){var d=this.p.resolveTokenString(unescape(de.url));aF.getData(dd).getFeed({value:d,type:de.type||"GET"},this,this.renderFeed,this)}},renderFeed:function(dg){this.clear();if(dg==null){return}var d=Math.min(dg.length,Number(this.c.maxItems));for(var dd=0;dd<d;dd++){var df=dg[dd];var de=this.newItem();de.setProd(df)}this.layout(this.items);if(dg.length>0){this.select(0)}if(d>0&&this.autoPlay&&this.hasFocus){this.setFocus(this.owner,true,true)}},setItems:function(d,dd){if(this.feedDriven!=true){dd(d)}},showControls:function(d){if(this.ss){this.ss.visible(d)}},stopAllVideo:function(dg){for(var de=0;de<this.end;de++){var df=this.items[de];if(!df){continue}var dd=aF.where(df.ctnr.childList(),function(dh){return dh.forceStop!=null});for(var d=0;d<dd.length;d++){if(dd[d]==dg){continue}dd[d].forceStop()}}},visibleItems:function(dd){if(this.ss!=null){this.ss.select(dd)}for(var d=0;d<this.items.length;d++){if(dd.indexOf(d)!=-1){if(this.hasFocus){this.items[d].setFocus(this,true)}}else{this.items[d].setFocus(this,false)}}},next:function(df,de){var dg=this.layoutData;var dd=this.index;if(dg){dd+=dg.advanceNext;var d=dg.advanceNextEnd||999;if((dd>=d)&&this.loop){dd=0}else{if(dd>=d){dd=d-1}}}else{dd++}if(dd>this.end){if(this.loop){this.select(0,false,df,de)}}else{if(dd>this.end&&this.loop){dd=0}this.select(dd,false,df,de)}},prev:function(df,de){var dg=this.layoutData;var dd=this.index;if(dg){dd-=dg.advanceNext;var d=dg.advanceNextEnd||999;if(dd>d){dd=d-1}}else{dd--}if(dd<0){if(this.loop){if(this.c.paging=="page"){this.select(this.end,true,df,de)}else{if(dg.advanceNextEnd){this.select(dg.advanceNextEnd-1,true,df,de)}else{this.select(this.end,true,df,de)}}}}else{if(dd<0&&this.loop){dd=this.end}this.select(dd,false,df,de)}},track:function(dd,d,de){this.layoutMgr.track(dd,d,de,this.index,this.items,this.target,this)},relayout:function(){this.layout(this.itms)},invalidateNav:function(){var d=this.layoutData;if(d&&this.np){if(!this.loop){this.np.n.enabled(d.canMoveNext);this.np.p.enabled(d.canMovePrev)}this.np.visible(this.items.length>d.itemsPerPage&&(d.canMovePrev||d.canMoveNext))}},layout:function(de){this.itms=de;for(var d=0;d<de.length;d++){var df=de[d];df._index}var dd=this.layoutData=this.layoutMgr.layout(de,this._w,this._h,this);dd.ctnrWidth=this._w;dd.ctnrHeight=this._h;this.layoutMgr.calculateInteraction(this.index,de,dd);this.invalidateNav();if(this.ss!=null){this.ss.draw(dd.numPages)}},change:function(dh,dg,de,dd){this.start=aF.getTimer();var d=0;if(de&&dd){var df=dd.metaName;switch(df){case"Next":d=1;break;case"Previous":d=-1;break;default:if(df&&df.indexOf("SlideSelector")==0){d=2}break}}if(this.layoutData){this.layoutMgr.focus(dg,this.items,this.layoutData,d,this.target,this);this.layoutMgr.calculateInteraction(dg,this.items,this.layoutData)}this.invalidateNav();if(dh!=dg){aF.track(this.p,"SD",de?dd:null,this,(dg+1))}},clip:function(d,dd,de){this.wrapper.clip(d,dd);this._w=d;this._h=dd;if(this.np!=null){this.np.size(d,dd)}if(this.ss!=null){this.ss.size(d,dd)}},resetAnimation:function(d){this.select(0)},setFocus:function(d,dd,df,de){clearTimeout(this.timeout);this.owner=d;this.hasFocus=dd;if(dd){this.select(0);if(this.autoPlay&&(this.items.length>0)){if(this.complete!=true||this.loop){this.inTween=true;this.timeout=setTimeout(this.moveNext,H);this.c.root._player.registerDestroyer(function(){clearTimeout(this.timeout)});return}}if(this.index!=-1&&this.index<this.items.length){this.items[this.index].setFocus(true)}this.inTween=false;if(this.owner&&this.owner.finishAnimate){d.finishAnimate(this)}}else{this.stopAllVideo(null)}},moveNext:function(){clearTimeout(this.timeout);var d=aF.getTimeline(this.c);if(d.isPaused(this)){return}var dd=this.layoutData?this.layoutData.canMoveNext:false;if(dd){this.next();this.timeout=setTimeout(this.moveNext,H)}else{this.complete=true;this.inTween=false;if(this.owner&&this.owner.finishAnimate){this.owner.finishAnimate(this)}if(this.loop){this.inTween=true;this.select(0,false,true,false,null);this.timeout=setTimeout(this.moveNext,H)}else{if(this.ss){this.ss.togglePause(true)}}}this.c.root._player.registerDestroyer(function(){clearTimeout(this.timeout)})},togglePause:function(dd){if(this.apiPaused){return}clearTimeout(this.timeout);if(!this.hasFocus){return}this.isPaused=dd;if(this.ss){this.ss.togglePause(dd)}if(!dd){if(this.inTween){var d=H-(aF.getTimer()-this.start);clearTimeout(this.timeout);this.timeout=setTimeout(this.moveNext,Math.max(d,1000));this.c.root._player.registerDestroyer(function(){clearTimeout(this.timeout)})}}}},aF.repeater,[aF.m.draggable]);aF.registerComponent({clazz:bt,nodeName:"tc:slider",namespace:"tc"});aF.slider=bt;aF.embed=function(dg,df){var de=document.getElementById(dg.target);if(de.isEmbedding){return}de.isEmbedding=true;while(de.childNodes.length>=1){de.removeChild(de.firstChild)}if(dg.vars==null){dg.vars={}}if(dg.vars.t3d===false){aF.noT3D=true}var dd;if(df==null){dd="carouselPlayer"}else{dd=df.app||"carouselPlayer"}var d=new aF[dd]();d.size(dg.width||550,dg.height||400);d.init(dg.vars.id,(dg.params!=null)?dg.params.base:null,dg.vars.xid,dg.vars.allowCache,dg.vars.allowCSS,dg.vars);d.css("textAlign","left");de.appendChild(d);if(dg.params!=null&&dg.params.bgcolor!=null){d.css("background",dg.params.bgcolor)}}}).apply(window.__tencms=window.__tencms||{});